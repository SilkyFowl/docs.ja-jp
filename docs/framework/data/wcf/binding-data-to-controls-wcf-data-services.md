---
description: '詳細情報: コントロールへのデータのバインド (WCF Data Services)'
title: コントロールへのデータのバインド (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- client applications, WCF Data Services
- WCF Data Services, client library
- data binding, WCF Data Services
ms.assetid: b32e1d49-c214-4cb1-867e-88fbb3d08c8d
ms.openlocfilehash: 01ef24c2723bb690a8f441a315085c4312307b03
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2021
ms.locfileid: "99766479"
---
# <a name="binding-data-to-controls-wcf-data-services"></a><span data-ttu-id="1acca-103">コントロールへのデータのバインド (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="1acca-103">Binding Data to Controls (WCF Data Services)</span></span>

[!INCLUDE [wcf-deprecated](~/includes/wcf-deprecated.md)]

<span data-ttu-id="1acca-104">WCF Data Services では、`ComboBox` や `ListView` などのコントロールを <xref:System.Data.Services.Client.DataServiceCollection%601> クラスのインスタンスにバインドすることができます。</span><span class="sxs-lookup"><span data-stu-id="1acca-104">With WCF Data Services, you can bind controls such as the `ComboBox` and `ListView` controls to an instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class.</span></span> <span data-ttu-id="1acca-105">このコレクションは <xref:System.Collections.ObjectModel.ObservableCollection%601> クラスから継承され、Open Data Protocol (OData) フィードのデータが含まれます。</span><span class="sxs-lookup"><span data-stu-id="1acca-105">This collection, which inherits from the <xref:System.Collections.ObjectModel.ObservableCollection%601> class, contains the data from an Open Data Protocol (OData) feed.</span></span> <span data-ttu-id="1acca-106">このクラスは、項目が追加または削除されたときに通知を行う動的なデータ コレクションを表します。</span><span class="sxs-lookup"><span data-stu-id="1acca-106">This class represents a dynamic data collection that provides notifications when items get added or removed.</span></span> <span data-ttu-id="1acca-107">データ バインディングに <xref:System.Data.Services.Client.DataServiceCollection%601> のインスタンスを使用する場合、WCF Data Services クライアント ライブラリによって、これらのイベントが処理され、<xref:System.Data.Services.Client.DataServiceContext> で追跡されるオブジェクトとバインドされる UI 要素のデータとの同期が維持されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-107">When you use an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for data binding, the WCF Data Services client libraries handle these events to ensure that objects tracked by the <xref:System.Data.Services.Client.DataServiceContext> remain synchronized with the data in the bound UI element.</span></span>  
  
 <span data-ttu-id="1acca-108"><xref:System.Data.Services.Client.DataServiceCollection%601> クラスは、<xref:System.Collections.Specialized.INotifyCollectionChanged> インターフェイスを (間接的に) 実装して、コレクションに対してオブジェクトが追加または削除されたときのコンテキストを警告します。</span><span class="sxs-lookup"><span data-stu-id="1acca-108">The <xref:System.Data.Services.Client.DataServiceCollection%601> class (indirectly) implements the <xref:System.Collections.Specialized.INotifyCollectionChanged> interface to alert the context when objects are added to or removed from the collection.</span></span> <span data-ttu-id="1acca-109"><xref:System.Data.Services.Client.DataServiceCollection%601> と使用するデータ サービス型オブジェクトは、<xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスも実装して、バインディング コレクション内のオブジェクトのプロパティが変更されたときに <xref:System.Data.Services.Client.DataServiceCollection%601> に警告する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1acca-109">Data service type objects used with a <xref:System.Data.Services.Client.DataServiceCollection%601> must also implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface to alert the <xref:System.Data.Services.Client.DataServiceCollection%601> when properties of objects in the binding collection have changed.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1acca-110">**[サービス参照の追加]** ダイアログまたは [DataSvcUtil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) ツールを `/dataservicecollection` オプション付きで使用してクライアント データ サービス クラスを生成すると、生成されたデータ クラスには <xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスが実装されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-110">When you use the **Add Service Reference** dialog or the [DataSvcUtil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) tool with the `/dataservicecollection` option to generate the client data service classes, the generated data classes implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface.</span></span> <span data-ttu-id="1acca-111">詳細については、[クライアント データ サービス クラスを手動で生成する](how-to-manually-generate-client-data-service-classes-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-111">For more information, see [How to: Manually Generate Client Data Service Classes](how-to-manually-generate-client-data-service-classes-wcf-data-services.md).</span></span>  
  
## <a name="creating-the-binding-collection"></a><span data-ttu-id="1acca-112">バインディング コレクションの作成</span><span class="sxs-lookup"><span data-stu-id="1acca-112">Creating the Binding Collection</span></span>  

 <span data-ttu-id="1acca-113">指定した <xref:System.Data.Services.Client.DataServiceCollection%601> インスタンスでクラス コンストラクター メソッドの 1 つを呼び出し、オプションで <xref:System.Data.Services.Client.DataServiceContext> または実行時に <xref:System.Data.Services.Client.DataServiceQuery%601> インスタンスを返す LINQ クエリを呼び出して <xref:System.Collections.Generic.IEnumerable%601> クラスの新しいインスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="1acca-113">Create a new instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class by calling one of the class constructor methods with a supplied <xref:System.Data.Services.Client.DataServiceContext> instance and optionally a <xref:System.Data.Services.Client.DataServiceQuery%601> or LINQ query that, when it is executed, returns an <xref:System.Collections.Generic.IEnumerable%601> instance.</span></span> <span data-ttu-id="1acca-114">この <xref:System.Collections.Generic.IEnumerable%601> では、OData フィードから具体化されるバインディング コレクションのオブジェクトのソースが提供されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-114">This <xref:System.Collections.Generic.IEnumerable%601> provides the source of objects for the binding collection, which are materialized from an OData feed.</span></span> <span data-ttu-id="1acca-115">詳しくは、「[オブジェクトの具体化](object-materialization-wcf-data-services.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="1acca-115">For more information, see [Object Materialization](object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="1acca-116">既定では、バインドされたオブジェクトおよびコレクションに挿入された項目に対する変更は、<xref:System.Data.Services.Client.DataServiceContext> によって自動的に追跡されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-116">By default, changes made to bound objects and items inserted into the collection are automatically tracked by the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1acca-117">これらの変更を手動で追跡する必要がある場合は、`trackingMode` パラメーターを受け取るコンストラクター メソッドの 1 つを呼び出して、<xref:System.Data.Services.Client.TrackingMode.None> の値を指定します。</span><span class="sxs-lookup"><span data-stu-id="1acca-117">If you need to manually track these changes, call one of the constructor methods that takes a `trackingMode` parameter and specify a value of <xref:System.Data.Services.Client.TrackingMode.None>.</span></span>  
  
 <span data-ttu-id="1acca-118">次の例は、指定された <xref:System.Data.Services.Client.DataServiceCollection%601> と、すべての顧客と関連する注文を返す <xref:System.Data.Services.Client.DataServiceContext> に基づいて、<xref:System.Data.Services.Client.DataServiceQuery%601> のインスタンスを作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="1acca-118">The following example shows how to create an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> based on a supplied <xref:System.Data.Services.Client.DataServiceContext> and a <xref:System.Data.Services.Client.DataServiceQuery%601> that returns all customers with related orders:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#CustomersOrders2Binding](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorders2.cs#customersorders2binding)]
 [!code-vb[Astoria Northwind Client#CustomersOrders2Binding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorders2.vb#customersorders2binding)]  
  
## <a name="binding-data-to-windows-presentation-foundation-elements"></a><span data-ttu-id="1acca-119">Windows Presentation Foundation 要素へのデータのバインド</span><span class="sxs-lookup"><span data-stu-id="1acca-119">Binding Data to Windows Presentation Foundation Elements</span></span>  

 <span data-ttu-id="1acca-120"><xref:System.Data.Services.Client.DataServiceCollection%601> クラスは <xref:System.Collections.ObjectModel.ObservableCollection%601> クラスを継承しているため、バインディングに <xref:System.Collections.ObjectModel.ObservableCollection%601> クラスを使用する場合と同様に、オブジェクトを Windows Presentation Foundation (WPF) アプリケーション内の要素 (またはコントロール) にバインドできます。</span><span class="sxs-lookup"><span data-stu-id="1acca-120">Because the <xref:System.Data.Services.Client.DataServiceCollection%601> class inherits from the <xref:System.Collections.ObjectModel.ObservableCollection%601> class, you can bind objects to an element, or control, in a Windows Presentation Foundation (WPF) application as you would when using the <xref:System.Collections.ObjectModel.ObservableCollection%601> class for binding.</span></span> <span data-ttu-id="1acca-121">詳細については、「[データ バインディング (Windows Presentation Foundation)](/dotnet/desktop/wpf/data/data-binding-overview)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-121">For more information, see [Data Binding (Windows Presentation Foundation)](/dotnet/desktop/wpf/data/data-binding-overview).</span></span> <span data-ttu-id="1acca-122">データ サービスのデータを WPF コントロールにバインドする 1 つの方法は、要素の `DataContext` プロパティをクエリ結果を含む <xref:System.Data.Services.Client.DataServiceCollection%601> クラスのインスタンスに設定することです。</span><span class="sxs-lookup"><span data-stu-id="1acca-122">One way to bind data service data to WPF controls is to set the `DataContext` property of the element to the instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class that contains the query result.</span></span> <span data-ttu-id="1acca-123">この場合、<xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> プロパティを使用して、コントロールのオブジェクト ソースを設定します。</span><span class="sxs-lookup"><span data-stu-id="1acca-123">In this case, you use the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> property to set the object source for the control.</span></span> <span data-ttu-id="1acca-124"><xref:System.Windows.Controls.ItemsControl.DisplayMemberPath%2A> プロパティを使用して、バインドされたオブジェクトのどのプロパティを表示するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="1acca-124">Use the <xref:System.Windows.Controls.ItemsControl.DisplayMemberPath%2A> property to specify which property of the bound object to display.</span></span> <span data-ttu-id="1acca-125">ナビゲーション プロパティから返される関連オブジェクトに要素をバインドする場合は、<xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> プロパティに対して定義されているバインドにパスを含めます。</span><span class="sxs-lookup"><span data-stu-id="1acca-125">If you are binding an element to a related object that is returned by a navigation property, include the path in the binding defined for the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> property.</span></span> <span data-ttu-id="1acca-126">このパスは、親コントロールの <xref:System.Windows.FrameworkElement.DataContext%2A> プロパティで設定されたルート オブジェクトを基準とした相対パスになります。</span><span class="sxs-lookup"><span data-stu-id="1acca-126">This path is relative to the root object set by the <xref:System.Windows.FrameworkElement.DataContext%2A> property of the parent control.</span></span> <span data-ttu-id="1acca-127">次の例では、<xref:System.Windows.FrameworkElement.DataContext%2A> 要素の <xref:System.Windows.Controls.StackPanel> プロパティを設定して、親コントロールをカスタム オブジェクトの <xref:System.Data.Services.Client.DataServiceCollection%601> にバインドします。</span><span class="sxs-lookup"><span data-stu-id="1acca-127">The following example sets the <xref:System.Windows.FrameworkElement.DataContext%2A> property of a <xref:System.Windows.Controls.StackPanel> element to bind the parent control to an <xref:System.Data.Services.Client.DataServiceCollection%601> of customer objects:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#MasterDetailBinding](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderscustom.xaml.cs#masterdetailbinding)]
 [!code-csharp[Astoria Northwind Client#MasterDetailBinding](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderswpf.xaml.cs#masterdetailbinding)]
 [!code-vb[Astoria Northwind Client#MasterDetailBinding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderscustom.xaml.vb#masterdetailbinding)]
 [!code-vb[Astoria Northwind Client#MasterDetailBinding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderswpf.xaml.vb#masterdetailbinding)]
 [!code-vb[Astoria Northwind Client#MasterDetailBinding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderscustom2.xaml.vb#masterdetailbinding)]  
  
 <span data-ttu-id="1acca-128">次の例は、子である <xref:System.Windows.Controls.DataGrid> コントロールと <xref:System.Windows.Controls.ComboBox> コントロールの XAML バインド定義を示しています。</span><span class="sxs-lookup"><span data-stu-id="1acca-128">The following example shows the XAML binding definition of the child <xref:System.Windows.Controls.DataGrid> and <xref:System.Windows.Controls.ComboBox> controls:</span></span>  
  
 [!code-xaml[Astoria Northwind Client#MasterDetailXaml](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderswpf.xaml#masterdetailxaml)]  
  
 <span data-ttu-id="1acca-129">詳細については、[Windows Presentation Foundation 要素にデータをバインドする](bind-data-to-wpf-elements-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-129">For more information, see [How to: Bind Data to Windows Presentation Foundation Elements](bind-data-to-wpf-elements-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="1acca-130">一対多または多対多のリレーションシップのエンティティの場合は、リレーションシップのナビゲーション プロパティは関連するオブジェクトのコレクションを返します。</span><span class="sxs-lookup"><span data-stu-id="1acca-130">When an entity participates in a one-to-many or many-to-many relationship, the navigation property for the relationship returns a collection of related objects.</span></span> <span data-ttu-id="1acca-131">**[サービス参照の追加]** ダイアログ ボックスまたは DataSvcUtil.exe ツールを使用してクライアント サービス クラスを生成すると、ナビゲーション プロパティは、<xref:System.Data.Services.Client.DataServiceCollection%601> のインスタンスを返します。</span><span class="sxs-lookup"><span data-stu-id="1acca-131">When you use the **Add Service Reference** dialog box or the DataSvcUtil.exe tool to generate the client data service classes, the navigation property returns an instance of <xref:System.Data.Services.Client.DataServiceCollection%601>.</span></span> <span data-ttu-id="1acca-132">そのため、関連するオブジェクトをコントロールにバインドして、関連エンティティのマスター/詳細バインド パターンなど、一般的な WPF バインディング シナリオをサポートできます。</span><span class="sxs-lookup"><span data-stu-id="1acca-132">This enables you to bind related objects to a control, and support common WPF binding scenarios, such as the master-detail binding pattern for related entities.</span></span> <span data-ttu-id="1acca-133">前の XAML の例では、XAML コードはマスター <xref:System.Data.Services.Client.DataServiceCollection%601> をルート データ要素にバインドします。</span><span class="sxs-lookup"><span data-stu-id="1acca-133">In the previous XAML example, the XAML code binds the master <xref:System.Data.Services.Client.DataServiceCollection%601> to the root data element.</span></span> <span data-ttu-id="1acca-134">注文 <xref:System.Windows.Controls.DataGrid> が、選択した Customer オブジェクトから返される Orders <xref:System.Data.Services.Client.DataServiceCollection%601> にバインドされ、<xref:System.Windows.Window> のルート データ要素にバインドされます。</span><span class="sxs-lookup"><span data-stu-id="1acca-134">The order <xref:System.Windows.Controls.DataGrid> is then bound to the Orders <xref:System.Data.Services.Client.DataServiceCollection%601> returned from the selected Customers object, which is in turn bound to the root data element of the <xref:System.Windows.Window>.</span></span>  
  
## <a name="binding-data-to-windows-forms-controls"></a><span data-ttu-id="1acca-135">Windows フォーム コントロールへのデータのバインド</span><span class="sxs-lookup"><span data-stu-id="1acca-135">Binding Data to Windows Forms Controls</span></span>  

 <span data-ttu-id="1acca-136">オブジェクトを Windows フォーム コントロールにバインドするには、コントロールの `DataSource` プロパティをクエリ結果を含む <xref:System.Data.Services.Client.DataServiceCollection%601> クラスのインスタンスに設定します。</span><span class="sxs-lookup"><span data-stu-id="1acca-136">To bind objects to a Windows Form control, set the `DataSource` property of the control to the instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class that contains the query result.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1acca-137">データ バインディングは、<xref:System.Collections.Specialized.INotifyCollectionChanged> インターフェイスおよび <xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスを実装することで変更イベントをリッスンしているコントロールでのみサポートされます。</span><span class="sxs-lookup"><span data-stu-id="1acca-137">Data binding is only supported for controls that listen for change events by implementing the <xref:System.Collections.Specialized.INotifyCollectionChanged> and <xref:System.ComponentModel.INotifyPropertyChanged> interfaces.</span></span> <span data-ttu-id="1acca-138">コントロールがこの種類の変更通知をサポートしていない場合、基になる <xref:System.Data.Services.Client.DataServiceCollection%601> に対する変更はバインドされたコントロールに反映されません。</span><span class="sxs-lookup"><span data-stu-id="1acca-138">When a control does not support this kind of change notification, changes that are made to the underlying <xref:System.Data.Services.Client.DataServiceCollection%601> are not reflected in the bound control.</span></span>  
  
 <span data-ttu-id="1acca-139">次の例では、<xref:System.Data.Services.Client.DataServiceCollection%601> を <xref:System.Windows.Forms.ComboBox> コントロールにバインドします。</span><span class="sxs-lookup"><span data-stu-id="1acca-139">The following example binds an <xref:System.Data.Services.Client.DataServiceCollection%601> to a <xref:System.Windows.Forms.ComboBox> control:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBindingSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorders.cs#customersordersdatabindingspecific)]
 [!code-vb[Astoria Northwind Client#CustomersOrdersDataBindingSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorders.vb#customersordersdatabindingspecific)]  
  
 <span data-ttu-id="1acca-140">**[サービス参照の追加]** ダイアログ ボックスを使用してクライアント データ サービス クラスを生成すると、生成された <xref:System.Data.Services.Client.DataServiceContext> に基づくプロジェクト データ ソースも作成されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-140">When you use the **Add Service Reference** dialog to generate the client data service classes, a project data source is also created that is based on the generated <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1acca-141">このデータ ソースでは、 **[データ ソース]** ウィンドウからデザイナーに項目をドラッグして、データ サービスのデータを表示する UI 要素またはコントロールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="1acca-141">With this data source, you can create UI elements or controls that display data from the data service simply by dragging items from the **Data Sources** window onto the designer.</span></span> <span data-ttu-id="1acca-142">これらの項目は、データ ソースにバインドされるアプリケーション UI の要素になります。</span><span class="sxs-lookup"><span data-stu-id="1acca-142">These items become elements in the application UI that are bound to the data source.</span></span> <span data-ttu-id="1acca-143">詳細については、[プロジェクト データ ソースを使用してデータをバインドする](how-to-bind-data-using-a-project-data-source-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-143">For more information, see [How to: Bind Data Using a Project Data Source](how-to-bind-data-using-a-project-data-source-wcf-data-services.md).</span></span>  
  
## <a name="binding-paged-data"></a><span data-ttu-id="1acca-144">ページングされたデータのバインド</span><span class="sxs-lookup"><span data-stu-id="1acca-144">Binding Paged Data</span></span>  

 <span data-ttu-id="1acca-145">データ サービスは、1 つの応答メッセージで返されるクエリ データの量を制限するよう構成できます。</span><span class="sxs-lookup"><span data-stu-id="1acca-145">A data service can be configured to limit the amount of queried data that is returned in a single response message.</span></span> <span data-ttu-id="1acca-146">詳細については、「[データ サービスの構成](configuring-the-data-service-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-146">For more information, see [Configuring the Data Service](configuring-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="1acca-147">データ サービスによって応答データのページングが行われる場合、各応答には、結果の次のページを返すためのリンクが含まれます。</span><span class="sxs-lookup"><span data-stu-id="1acca-147">When the data service is paging response data, each response contains a link that is used to return the next page of results.</span></span> <span data-ttu-id="1acca-148">詳しくは、「[遅延コンテンツの読み込み](loading-deferred-content-wcf-data-services.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="1acca-148">For more information, see [Loading Deferred Content](loading-deferred-content-wcf-data-services.md).</span></span> <span data-ttu-id="1acca-149">この場合、次の例に示すように、<xref:System.Data.Services.Client.DataServiceCollection%601.Load%2A> プロパティから取得した URI を渡すことによって <xref:System.Data.Services.Client.DataServiceCollection%601> で <xref:System.Data.Services.Client.DataServiceQueryContinuation.NextLinkUri%2A> メソッドを呼び出してページを明示的に読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="1acca-149">In this case, you must explicitly load pages by calling the <xref:System.Data.Services.Client.DataServiceCollection%601.Load%2A> method on the <xref:System.Data.Services.Client.DataServiceCollection%601> by passing the URI obtained from the <xref:System.Data.Services.Client.DataServiceQueryContinuation.NextLinkUri%2A> property, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#BindPagedDataSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderswpf3.xaml.cs#bindpageddataspecific)]
 [!code-vb[Astoria Northwind Client#BindPagedDataSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderswpf3.xaml.vb#bindpageddataspecific)]  
  
 <span data-ttu-id="1acca-150">関連するオブジェクトは同様の方法で読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="1acca-150">Related objects are loaded in a similar manner.</span></span> <span data-ttu-id="1acca-151">詳細については、[Windows Presentation Foundation 要素にデータをバインドする](bind-data-to-wpf-elements-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-151">For more information, see [How to: Bind Data to Windows Presentation Foundation Elements](bind-data-to-wpf-elements-wcf-data-services.md).</span></span>  
  
## <a name="customizing-data-binding-behaviors"></a><span data-ttu-id="1acca-152">データ バインディングの動作のカスタマイズ</span><span class="sxs-lookup"><span data-stu-id="1acca-152">Customizing Data Binding Behaviors</span></span>  

 <span data-ttu-id="1acca-153"><xref:System.Data.Services.Client.DataServiceCollection%601> クラスを使用すると、コレクションへの変更が行われたとき (オブジェクトが追加または削除されたときなど)、およびコレクション内のオブジェクトのプロパティに対して変更が行われたときに発生するイベントを先に取得できます。</span><span class="sxs-lookup"><span data-stu-id="1acca-153">The <xref:System.Data.Services.Client.DataServiceCollection%601> class enables you to intercept the events raised when changes are made to the collection, such as an object being added or removed, and when changes are made to the properties of object in a collection.</span></span> <span data-ttu-id="1acca-154">データ バインディング イベントを変更して、次の制約を含む既定の動作をオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="1acca-154">You can modify the data binding events to override the default behavior, which includes the following constraints:</span></span>  
  
- <span data-ttu-id="1acca-155">デリゲート内では検証は実行されません。</span><span class="sxs-lookup"><span data-stu-id="1acca-155">No validation is performed within the delegates.</span></span>  
  
- <span data-ttu-id="1acca-156">エンティティを追加すると関連エンティティが自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-156">Adding an entity automatically adds related entities.</span></span>  
  
- <span data-ttu-id="1acca-157">エンティティを削除しても関連エンティティは削除されません。</span><span class="sxs-lookup"><span data-stu-id="1acca-157">Deleting an entity does not delete the related entities.</span></span>  
  
 <span data-ttu-id="1acca-158"><xref:System.Data.Services.Client.DataServiceCollection%601> の新しいインスタンスを作成するとき、次のパラメーターを指定して、バインドされたオブジェクトが変更されたときに発生するイベントを処理するメソッドに対してデリゲートを定義できます。</span><span class="sxs-lookup"><span data-stu-id="1acca-158">When you create a new instance of <xref:System.Data.Services.Client.DataServiceCollection%601>, you have the option to specify the following parameters that define delegates to methods that handle the events raised when bound objects are changed:</span></span>  
  
- <span data-ttu-id="1acca-159">`entityChanged` - バインドされたオブジェクトのプロパティが変更されたときに呼び出されるメソッド。</span><span class="sxs-lookup"><span data-stu-id="1acca-159">`entityChanged` - a method that is called when the property of a bound object is changed.</span></span> <span data-ttu-id="1acca-160">この <xref:System.Func%602> デリゲートは、<xref:System.Data.Services.Client.EntityChangedParams> オブジェクトを受け入れ、<xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> で <xref:System.Data.Services.Client.DataServiceContext> を呼び出す既定の動作を引き続き発生させるかどうかを示すブール値を返します。</span><span class="sxs-lookup"><span data-stu-id="1acca-160">This <xref:System.Func%602> delegate accepts an <xref:System.Data.Services.Client.EntityChangedParams> object and returns a Boolean value that indicates whether the default behavior, to call <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> on the <xref:System.Data.Services.Client.DataServiceContext>, should still occur.</span></span>  
  
- <span data-ttu-id="1acca-161">`entityCollectionChanged` - バインディング コレクションに対してオブジェクトの追加または削除が行われたときに呼び出されるメソッド。</span><span class="sxs-lookup"><span data-stu-id="1acca-161">`entityCollectionChanged` - a method that is called when an object is added or removed from the binding collection.</span></span> <span data-ttu-id="1acca-162">この <xref:System.Func%602> デリゲートは、<xref:System.Data.Services.Client.EntityCollectionChangedParams> オブジェクトを受け入れ、既定の動作 (<xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> での <xref:System.Collections.Specialized.NotifyCollectionChangedAction.Add> アクションの <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> または <xref:System.Collections.Specialized.NotifyCollectionChangedAction.Remove> アクションの <xref:System.Data.Services.Client.DataServiceContext> 呼び出し) を引き続き発生させるかどうかを示すブール値を返します。</span><span class="sxs-lookup"><span data-stu-id="1acca-162">This <xref:System.Func%602> delegate accepts an <xref:System.Data.Services.Client.EntityCollectionChangedParams> object and returns a Boolean value that indicates whether the default behavior, to call <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> for an <xref:System.Collections.Specialized.NotifyCollectionChangedAction.Add> action or <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> for a <xref:System.Collections.Specialized.NotifyCollectionChangedAction.Remove> action on the <xref:System.Data.Services.Client.DataServiceContext>, should still occur.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1acca-163">WCF Data Services は、これらのデリゲートで実装したカスタムの動作を検証しません。</span><span class="sxs-lookup"><span data-stu-id="1acca-163">WCF Data Services performs no validation of the custom behaviors that you implement in these delegates.</span></span>  
  
 <span data-ttu-id="1acca-164">次の例では、<xref:System.Collections.Specialized.NotifyCollectionChangedAction.Remove> アクションがカスタマイズされ、<xref:System.Data.Services.Client.DataServiceContext.DeleteLink%2A> および <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> メソッドが呼び出されて、削除された `Orders_Details` エンティティに属する `Orders` エンティティが削除されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-164">In the following example, the <xref:System.Collections.Specialized.NotifyCollectionChangedAction.Remove> action is customized to call the <xref:System.Data.Services.Client.DataServiceContext.DeleteLink%2A> and <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> method to remove `Orders_Details` entities that belong to a deleted `Orders` entity.</span></span> <span data-ttu-id="1acca-165">親エンティティを削除しても依存エンティティは自動的に削除されないので、このカスタム アクションが実行されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-165">This custom action is performed because dependent entities are not automatically deleted when the parent entity is deleted.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#CustomersOrdersDeleteRelated](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderscustom.xaml.cs#customersordersdeleterelated)]
 [!code-vb[Astoria Northwind Client#CustomersOrdersDeleteRelated](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderscustom.xaml.vb#customersordersdeleterelated)]
 [!code-vb[Astoria Northwind Client#CustomersOrdersDeleteRelated](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderscustom2.xaml.vb#customersordersdeleterelated)]  
  
 <span data-ttu-id="1acca-166">詳細については、[データ バインディングの動作をカスタマイズする](how-to-customize-data-binding-behaviors-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-166">For more information, see [How to: Customize Data Binding Behaviors](how-to-customize-data-binding-behaviors-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="1acca-167"><xref:System.Data.Services.Client.DataServiceCollection%601> メソッドを使用して <xref:System.Collections.ObjectModel.Collection%601.Remove%2A> からオブジェクトが削除されたときの既定の動作では、オブジェクトは <xref:System.Data.Services.Client.DataServiceContext> でも Deleted とマークされます。</span><span class="sxs-lookup"><span data-stu-id="1acca-167">The default behavior when an object is removed from a <xref:System.Data.Services.Client.DataServiceCollection%601> by using the <xref:System.Collections.ObjectModel.Collection%601.Remove%2A> method is that the object is also marked as deleted in the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1acca-168">この動作を変更するには、`entityCollectionChanged` イベントが発生すると呼び出される <xref:System.Collections.Specialized.INotifyCollectionChanged.CollectionChanged> パラメーター内のメソッドに対してデリゲートを指定できます。</span><span class="sxs-lookup"><span data-stu-id="1acca-168">To change this behavior, you can specify a delegate to a method in the `entityCollectionChanged` parameter that is called when the <xref:System.Collections.Specialized.INotifyCollectionChanged.CollectionChanged> event occurs.</span></span>  
  
## <a name="data-binding-with-custom-client-data-classes"></a><span data-ttu-id="1acca-169">カスタム クライアント データ クラスでのデータ バインディング</span><span class="sxs-lookup"><span data-stu-id="1acca-169">Data Binding with Custom Client Data Classes</span></span>  

 <span data-ttu-id="1acca-170">オブジェクトを <xref:System.Data.Services.Client.DataServiceCollection%601> に読み込むには、オブジェクト自身が <xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1acca-170">To be able to load objects into a <xref:System.Data.Services.Client.DataServiceCollection%601>, the objects themselves must implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface.</span></span> <span data-ttu-id="1acca-171">**[サービス参照の追加]** ダイアログ ボックスまたは [DataSvcUtil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) ツールを使用するときに生成されるデータ サービス クライアント クラスでは、このインターフェイスが実装されます。</span><span class="sxs-lookup"><span data-stu-id="1acca-171">Data service client classes that are generated when you use the **Add Service Reference** dialog box or the [DataSvcUtil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) tool implement this interface.</span></span> <span data-ttu-id="1acca-172">独自のクライアント データ クラスを提供する場合、データ バインディングに別の種類のコレクションを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1acca-172">If you provide your own client data classes, you must use another type of collection for data binding.</span></span> <span data-ttu-id="1acca-173">オブジェクトが変更されると、データ バインド コントロール内のイベントを処理して、<xref:System.Data.Services.Client.DataServiceContext> クラスの次のメソッドを呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="1acca-173">When objects change, you must handle events in the data bound controls to call the following methods of the <xref:System.Data.Services.Client.DataServiceContext> class:</span></span>  
  
- <span data-ttu-id="1acca-174"><xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> - 新しいオブジェクトがコレクションに追加されたとき。</span><span class="sxs-lookup"><span data-stu-id="1acca-174"><xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> - when a new object is added to the collection.</span></span>  
  
- <span data-ttu-id="1acca-175"><xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> - オブジェクトがコレクションから削除されたとき。</span><span class="sxs-lookup"><span data-stu-id="1acca-175"><xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> - when an object is removed from the collection.</span></span>  
  
- <span data-ttu-id="1acca-176"><xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> - コレクション内のオブジェクトでプロパティが変更されたとき。</span><span class="sxs-lookup"><span data-stu-id="1acca-176"><xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> - when a property is changed on an object in the collection.</span></span>  
  
- <span data-ttu-id="1acca-177"><xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> - オブジェクトが関連オブジェクトのコレクションに追加されたとき。</span><span class="sxs-lookup"><span data-stu-id="1acca-177"><xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> - when an object is added to a collection of related object.</span></span>  
  
- <span data-ttu-id="1acca-178"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> - オブジェクトが関連オブジェクトのコレクションに追加されたとき。</span><span class="sxs-lookup"><span data-stu-id="1acca-178"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> - when an object is added to a collection of related objects.</span></span>  
  
 <span data-ttu-id="1acca-179">詳細については、「[データ サービスの更新](updating-the-data-service-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="1acca-179">For more information, see [Updating the Data Service](updating-the-data-service-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1acca-180">関連項目</span><span class="sxs-lookup"><span data-stu-id="1acca-180">See also</span></span>

- [<span data-ttu-id="1acca-181">方法: クライアント データ サービス クラスを手動で生成する</span><span class="sxs-lookup"><span data-stu-id="1acca-181">How to: Manually Generate Client Data Service Classes</span></span>](how-to-manually-generate-client-data-service-classes-wcf-data-services.md)
- [<span data-ttu-id="1acca-182">方法: データ サービス参照を追加する</span><span class="sxs-lookup"><span data-stu-id="1acca-182">How to: Add a Data Service Reference</span></span>](how-to-add-a-data-service-reference-wcf-data-services.md)
