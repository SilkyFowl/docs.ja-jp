---
description: 詳細については、「トランスポートクォータ」を参照してください。
title: トランスポート クォータ
ms.date: 03/30/2017
helpviewer_keywords:
- transport quotas [WCF]
ms.assetid: 3e71dd3d-f981-4d9c-9c06-ff8abb61b717
ms.openlocfilehash: 0359d088402235a34b8cf1d13820c0a7c920b023
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2021
ms.locfileid: "99752627"
---
# <a name="transport-quotas"></a><span data-ttu-id="0e4a6-103">トランスポート クォータ</span><span class="sxs-lookup"><span data-stu-id="0e4a6-103">Transport Quotas</span></span>

<span data-ttu-id="0e4a6-104">トランスポート クォータは、接続がリソースを過剰に消費している時期を特定するポリシー機構です。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-104">Transport quotas are a policy mechanism for deciding when a connection is consuming excessive resources.</span></span> <span data-ttu-id="0e4a6-105">クォータとは、クォータ値を超えた場合に、それ以上のリソースの使用を禁止する確実な制限です。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-105">A quota is a hard limit that prevents the use of additional resources once the quota value is exceeded.</span></span> <span data-ttu-id="0e4a6-106">トランスポート クォータは、悪質な、または意図的でないサービス拒否攻撃を防ぎます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-106">Transport quotas prevent either malicious or unintentional denial of service attacks.</span></span>  
  
 <span data-ttu-id="0e4a6-107">Windows Communication Foundation (WCF) トランスポートには、リソースの保守的な割り当てに基づく既定のクォータ値があります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-107">Windows Communication Foundation (WCF) transports have default quota values that are based on a conservative allocation of resources.</span></span> <span data-ttu-id="0e4a6-108">これらの既定値は開発環境、および小規模のインストール シナリオに適しています。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-108">These default values are suitable for development environments and small installation scenarios.</span></span> <span data-ttu-id="0e4a6-109">インストールでリソースが不足している場合、または追加リソースが使用可能であるにもかかわらず接続が制限されている場合、サービス管理者は、トランスポート クォータをレビューし、個別のクォータ値を調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-109">Service administrators should review transport quotas and tune individual quota values if an installation is running out of resources or if connections are being limited despite the availability of additional resources.</span></span>  
  
## <a name="types-of-transport-quotas"></a><span data-ttu-id="0e4a6-110">トランスポート クォータの種類</span><span class="sxs-lookup"><span data-stu-id="0e4a6-110">Types of Transport Quotas</span></span>  

 <span data-ttu-id="0e4a6-111">WCF トランスポートには、次の3種類のクォータがあります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-111">WCF transports have three types of quotas:</span></span>  
  
- <span data-ttu-id="0e4a6-112">*タイムアウト* を使用すると、長期間にわたってリソースの追加に依存するサービス拒否攻撃を軽減できます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-112">*Timeouts* mitigate denial of service attacks that rely on tying up resources for an extended period of time.</span></span>  
  
- <span data-ttu-id="0e4a6-113">*メモリ割り当ての制限* により、単一の接続がシステムメモリを消費したり、サービスを他の接続から拒否したりするのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-113">*Memory allocation limits* prevent a single connection from exhausting system memory and denying service to other connections.</span></span>  
  
- <span data-ttu-id="0e4a6-114">*コレクションサイズの制限* は、間接的にメモリを割り当てたり、限られた単位で使用されたりするリソースの消費量を制限します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-114">*Collection size limits* bound the consumption of resources that indirectly allocate memory or are in limited supply.</span></span>  
  
## <a name="transport-quota-descriptions"></a><span data-ttu-id="0e4a6-115">トランスポート クォータの説明</span><span class="sxs-lookup"><span data-stu-id="0e4a6-115">Transport Quota Descriptions</span></span>  

 <span data-ttu-id="0e4a6-116">このセクションでは、標準の WCF トランスポート (HTTP (S)、TCP/IP、および名前付きパイプ) で使用可能なトランスポートクォータについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-116">This section describes the transport quotas available for the standard WCF transports: HTTP(S), TCP/IP, and named pipes.</span></span> <span data-ttu-id="0e4a6-117">カスタム トランスポートでは、このリストに含まれない独自の構成可能なクォータを公開できます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-117">Custom transports can expose their own configurable quotas not included in this list.</span></span> <span data-ttu-id="0e4a6-118">カスタム トランスポートのクォータについては、ドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-118">Consult the documentation for a custom transport to find out about its quotas.</span></span>  
  
 <span data-ttu-id="0e4a6-119">各クォータ設定では、種類、最小値、および既定値を設定します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-119">Each quota setting has a type, minimum value, and default value.</span></span> <span data-ttu-id="0e4a6-120">クォータの最大値は、クォータの種類によって制限されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-120">The maximum value of a quota is limited by its type.</span></span> <span data-ttu-id="0e4a6-121">コンピューターの制限により、クォータを最大値に設定できない場合もあります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-121">Due to machine limitations, it is not always possible to set a quota to its maximum value.</span></span>  
  
|<span data-ttu-id="0e4a6-122">名前</span><span class="sxs-lookup"><span data-stu-id="0e4a6-122">Name</span></span>|<span data-ttu-id="0e4a6-123">Type</span><span class="sxs-lookup"><span data-stu-id="0e4a6-123">Type</span></span>|<span data-ttu-id="0e4a6-124">最小</span><span class="sxs-lookup"><span data-stu-id="0e4a6-124">Min.</span></span><br /><br /> <span data-ttu-id="0e4a6-125">value</span><span class="sxs-lookup"><span data-stu-id="0e4a6-125">value</span></span>|<span data-ttu-id="0e4a6-126">Default</span><span class="sxs-lookup"><span data-stu-id="0e4a6-126">Default</span></span><br /><br /> <span data-ttu-id="0e4a6-127">value</span><span class="sxs-lookup"><span data-stu-id="0e4a6-127">value</span></span>|<span data-ttu-id="0e4a6-128">説明</span><span class="sxs-lookup"><span data-stu-id="0e4a6-128">Description</span></span>|  
|----------|----------|--------------------|-----------------------|-----------------|  
|`ChannelInitializationTimeout`|<span data-ttu-id="0e4a6-129">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-129">TimeSpan</span></span>|<span data-ttu-id="0e4a6-130">1 目盛り</span><span class="sxs-lookup"><span data-stu-id="0e4a6-130">1 tick</span></span>|<span data-ttu-id="0e4a6-131">5 秒</span><span class="sxs-lookup"><span data-stu-id="0e4a6-131">5 sec</span></span>|<span data-ttu-id="0e4a6-132">最初の読み取り中に、接続が前文の送信を待機する最大時間。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-132">Maximum time to wait for a connection to send the preamble during the initial read.</span></span> <span data-ttu-id="0e4a6-133">このデータは、認証が行われる前に受信されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-133">This data is received before authentication occurs.</span></span> <span data-ttu-id="0e4a6-134">この設定は一般に、`ReceiveTimeout` クォータ値よりも大幅に小さな値になります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-134">This setting is generally much smaller than the `ReceiveTimeout` quota value.</span></span>|  
|`CloseTimeout`|<span data-ttu-id="0e4a6-135">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-135">TimeSpan</span></span>|<span data-ttu-id="0e4a6-136">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-136">0</span></span>|<span data-ttu-id="0e4a6-137">1 分</span><span class="sxs-lookup"><span data-stu-id="0e4a6-137">1 min</span></span>|<span data-ttu-id="0e4a6-138">接続の終了を待機する最大時間。これを超えるとトランスポートで例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-138">Maximum time to wait for a connection to close before the transport raises an exception.</span></span>|  
|`ConnectionBufferSize`|<span data-ttu-id="0e4a6-139">Integer</span><span class="sxs-lookup"><span data-stu-id="0e4a6-139">Integer</span></span>|<span data-ttu-id="0e4a6-140">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-140">1</span></span>|<span data-ttu-id="0e4a6-141">8 KB</span><span class="sxs-lookup"><span data-stu-id="0e4a6-141">8 KB</span></span>|<span data-ttu-id="0e4a6-142">基となるトランスポートの送信および受信バッファーのサイズ (バイト単位)。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-142">Size, in bytes, of the transmit and receive buffers of the underlying transport.</span></span> <span data-ttu-id="0e4a6-143">サイズの大きなメッセージを送信する場合、バッファー サイズを増やすとスループットを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-143">Increasing the buffer size can improve throughput when sending large messages.</span></span>|  
|`IdleTimeout`|<span data-ttu-id="0e4a6-144">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-144">TimeSpan</span></span>|<span data-ttu-id="0e4a6-145">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-145">0</span></span>|<span data-ttu-id="0e4a6-146">2 分</span><span class="sxs-lookup"><span data-stu-id="0e4a6-146">2 min</span></span>|<span data-ttu-id="0e4a6-147">プールされた接続が閉じられるまで、アイドル状態を維持できる最大時間。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-147">Maximum time a pooled connection can remain idle before being closed.</span></span><br /><br /> <span data-ttu-id="0e4a6-148">この設定はプールされた接続にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-148">This setting only applies to pooled connections.</span></span>|  
|`LeaseTimeout`|<span data-ttu-id="0e4a6-149">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-149">TimeSpan</span></span>|<span data-ttu-id="0e4a6-150">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-150">0</span></span>|<span data-ttu-id="0e4a6-151">5 分</span><span class="sxs-lookup"><span data-stu-id="0e4a6-151">5 min</span></span>|<span data-ttu-id="0e4a6-152">プールされたアクティブな接続の最長有効期間。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-152">Maximum lifetime of an active pooled connection.</span></span> <span data-ttu-id="0e4a6-153">指定した期間が経過すると、現在の要求の処理後、接続は閉じられます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-153">After the specified time elapses, the connection closes once the current request is serviced.</span></span><br /><br /> <span data-ttu-id="0e4a6-154">この設定はプールされた接続にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-154">This setting only applies to pooled connections.</span></span>|  
|`ListenBacklog`|<span data-ttu-id="0e4a6-155">Integer</span><span class="sxs-lookup"><span data-stu-id="0e4a6-155">Integer</span></span>|<span data-ttu-id="0e4a6-156">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-156">1</span></span>|<span data-ttu-id="0e4a6-157">10</span><span class="sxs-lookup"><span data-stu-id="0e4a6-157">10</span></span>|<span data-ttu-id="0e4a6-158">リスナーで未処理にできる接続の最大数。エンドポイントへの接続がこれ以上増加すると拒否されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-158">Maximum number of connections that the listener can have unserviced before additional connections to that endpoint are denied.</span></span>|  
|`MaxBufferPoolSize`|<span data-ttu-id="0e4a6-159">Long</span><span class="sxs-lookup"><span data-stu-id="0e4a6-159">Long</span></span>|<span data-ttu-id="0e4a6-160">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-160">0</span></span>|<span data-ttu-id="0e4a6-161">512 KB</span><span class="sxs-lookup"><span data-stu-id="0e4a6-161">512 KB</span></span>|<span data-ttu-id="0e4a6-162">トランスポートで再使用可能なメッセージ バッファーのプール専用にするメモリの最大値 (バイト単位)。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-162">Maximum memory, in bytes, that the transport devotes to pooling reusable message buffers.</span></span> <span data-ttu-id="0e4a6-163">プールがメッセージ バッファーを供給できない場合、新しいバッファーが一時的な使用のために割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-163">When the pool cannot supply a message buffer, a new buffer is allocated for temporary use.</span></span><br /><br /> <span data-ttu-id="0e4a6-164">多数のチャネル ファクトリまたはリスナーを作成するインストールでは、バッファー プールに多くのメモリが割り当てられることがあります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-164">Installations that create many channel factories or listeners can allocate large amounts of memory for buffer pools.</span></span> <span data-ttu-id="0e4a6-165">このバッファー サイズを縮小すると、このシナリオにおけるメモリ使用量を大幅に削減できることがあります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-165">Reducing this buffer size can greatly reduce memory usage in this scenario.</span></span>|  
|`MaxBufferSize`|<span data-ttu-id="0e4a6-166">Integer</span><span class="sxs-lookup"><span data-stu-id="0e4a6-166">Integer</span></span>|<span data-ttu-id="0e4a6-167">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-167">1</span></span>|<span data-ttu-id="0e4a6-168">64 KB</span><span class="sxs-lookup"><span data-stu-id="0e4a6-168">64 KB</span></span>|<span data-ttu-id="0e4a6-169">ストリーミング データ用に使用されるバッファーの最大サイズ (バイト単位)。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-169">Maximum size, in bytes, of a buffer used for streaming data.</span></span> <span data-ttu-id="0e4a6-170">このトランスポート クォータが設定されていない、またはトランスポートがストリーミングを使用しない場合、このクォータ値は `MaxReceivedMessageSize` クォータ値と <xref:System.Int32.MaxValue> の小さい方と同じになります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-170">If this transport quota is not set, or the transport is not using streaming, then the quota value is the same as the smaller of the `MaxReceivedMessageSize` quota value and <xref:System.Int32.MaxValue>.</span></span>|  
|`MaxOutboundConnectionsPerEndpoint`|<span data-ttu-id="0e4a6-171">Integer</span><span class="sxs-lookup"><span data-stu-id="0e4a6-171">Integer</span></span>|<span data-ttu-id="0e4a6-172">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-172">1</span></span>|<span data-ttu-id="0e4a6-173">10</span><span class="sxs-lookup"><span data-stu-id="0e4a6-173">10</span></span>|<span data-ttu-id="0e4a6-174">特定のエンドポイントに関連付けることのできる送信接続の最大数。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-174">Maximum number of outgoing connections that can be associated with a particular endpoint.</span></span><br /><br /> <span data-ttu-id="0e4a6-175">この設定はプールされた接続にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-175">This setting only applies to pooled connections.</span></span>|  
|`MaxOutputDelay`|<span data-ttu-id="0e4a6-176">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-176">TimeSpan</span></span>|<span data-ttu-id="0e4a6-177">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-177">0</span></span>|<span data-ttu-id="0e4a6-178">200 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="0e4a6-178">200 ms</span></span>|<span data-ttu-id="0e4a6-179">送信操作後に 1 回の操作で追加メッセージをバッチ処理するために待機する最大時間。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-179">Maximum time to wait after a send operation for batching additional messages in a single operation.</span></span> <span data-ttu-id="0e4a6-180">基になるトランスポートのバッファーがいっぱいになると、メッセージはより早い時期に送信されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-180">Messages are sent earlier if the buffer of the underlying transport becomes full.</span></span> <span data-ttu-id="0e4a6-181">追加のメッセージの送信によって遅延時間がリセットされることはありません。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-181">Sending additional messages does not reset the delay period.</span></span>|  
|`MaxPendingAccepts`|<span data-ttu-id="0e4a6-182">Integer</span><span class="sxs-lookup"><span data-stu-id="0e4a6-182">Integer</span></span>|<span data-ttu-id="0e4a6-183">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-183">1</span></span>|<span data-ttu-id="0e4a6-184">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-184">1</span></span>|<span data-ttu-id="0e4a6-185">リスナーで待機状態にできるチャネルの受け入れの最大数。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-185">Maximum number of accepts for channels that the listener can have waiting.</span></span><br /><br /> <span data-ttu-id="0e4a6-186">受け入れの完了と新しい受け入れの開始との間には、時間的な間隔があります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-186">There is an interval of time between the accept completing and a new accept starting.</span></span> <span data-ttu-id="0e4a6-187">このコレクション サイズを大きくすると、この時間間隔内に接続するクライアントが切断されるのを防ぎます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-187">Increasing this collection size can prevent clients that connect during this interval from being dropped.</span></span>|  
|`MaxPendingConnections`|<span data-ttu-id="0e4a6-188">Integer</span><span class="sxs-lookup"><span data-stu-id="0e4a6-188">Integer</span></span>|<span data-ttu-id="0e4a6-189">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-189">1</span></span>|<span data-ttu-id="0e4a6-190">10</span><span class="sxs-lookup"><span data-stu-id="0e4a6-190">10</span></span>|<span data-ttu-id="0e4a6-191">アプリケーションによる受け入れをリスナーで待機できる最大接続数。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-191">Maximum number of connections that the listener can have waiting to be accepted by the application.</span></span> <span data-ttu-id="0e4a6-192">このクォータ値を超過すると、新規の受信接続は受け入れられるのを待機せずに切断されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-192">When this quota value is exceeded, new incoming connections are dropped rather than waiting to be accepted.</span></span><br /><br /> <span data-ttu-id="0e4a6-193">メッセージ セキュリティのような接続機能では、クライアントは複数の接続を開くことがあります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-193">Connection features such as message security can cause a client to open more than one connection.</span></span> <span data-ttu-id="0e4a6-194">このクォータ値を設定する場合、サービス管理者はこのような追加の接続も考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-194">Service administrators should account for these additional connections when setting this quota value.</span></span>|  
|`MaxReceivedMessageSize`|<span data-ttu-id="0e4a6-195">Long</span><span class="sxs-lookup"><span data-stu-id="0e4a6-195">Long</span></span>|<span data-ttu-id="0e4a6-196">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-196">1</span></span>|<span data-ttu-id="0e4a6-197">64 KB</span><span class="sxs-lookup"><span data-stu-id="0e4a6-197">64 KB</span></span>|<span data-ttu-id="0e4a6-198">ヘッダーを含む、受信メッセージの最大サイズ (バイト単位)。これを超えるとトランスポートで例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-198">Maximum size, in bytes, of a received message, including headers, before the transport raises an exception.</span></span>|  
|`OpenTimeout`|<span data-ttu-id="0e4a6-199">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-199">TimeSpan</span></span>|<span data-ttu-id="0e4a6-200">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-200">0</span></span>|<span data-ttu-id="0e4a6-201">1 分</span><span class="sxs-lookup"><span data-stu-id="0e4a6-201">1 min</span></span>|<span data-ttu-id="0e4a6-202">接続の確立を待機する最大時間。これを超えるとトランスポートで例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-202">Maximum time to wait for a connection to be established before the transport raises an exception.</span></span>|  
|`ReceiveTimeout`|<span data-ttu-id="0e4a6-203">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-203">TimeSpan</span></span>|<span data-ttu-id="0e4a6-204">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-204">0</span></span>|<span data-ttu-id="0e4a6-205">10 分</span><span class="sxs-lookup"><span data-stu-id="0e4a6-205">10 min</span></span>|<span data-ttu-id="0e4a6-206">読み取り操作の完了を待機する最大時間。これを超えるとトランスポートで例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-206">Maximum time to wait for a read operation to complete before the transport raises an exception.</span></span>|  
|`SendTimeout`|<span data-ttu-id="0e4a6-207">Timespan</span><span class="sxs-lookup"><span data-stu-id="0e4a6-207">Timespan</span></span>|<span data-ttu-id="0e4a6-208">0</span><span class="sxs-lookup"><span data-stu-id="0e4a6-208">0</span></span>|<span data-ttu-id="0e4a6-209">1 分</span><span class="sxs-lookup"><span data-stu-id="0e4a6-209">1 min</span></span>|<span data-ttu-id="0e4a6-210">書き込み操作の完了を待機する最大時間。これを超えるとトランスポートで例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-210">Maximum time to wait for a write operation to complete before the transport raises an exception.</span></span>|  
  
 <span data-ttu-id="0e4a6-211">トランスポート クォータ `MaxPendingConnections` および `MaxOutboundConnectionsPerEndpoint` は、バインディングまたは構成を使用して設定される場合には、`MaxConnections` トランスポート クォータと呼ばれる単一のクォータに結合されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-211">The transport quotas `MaxPendingConnections` and `MaxOutboundConnectionsPerEndpoint` are combined into a single transport quota called `MaxConnections` when set through the binding or configuration.</span></span> <span data-ttu-id="0e4a6-212">これらのクォータ値を個別に設定できるのは、バインド要素に限られます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-212">Only the binding element allows setting these quota values individually.</span></span> <span data-ttu-id="0e4a6-213">`MaxConnections` トランスポート クォータでは、最小値と既定値が同じになります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-213">The `MaxConnections` transport quota has the same minimum and default values.</span></span>  
  
## <a name="setting-transport-quotas"></a><span data-ttu-id="0e4a6-214">トランスポート クォータの設定</span><span class="sxs-lookup"><span data-stu-id="0e4a6-214">Setting Transport Quotas</span></span>  

 <span data-ttu-id="0e4a6-215">トランスポート クォータは、トランスポート バインド要素、トランスポート バンディング、アプリケーション構成、またはホスト ポリシーを介して設定されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-215">Transport quotas are set through the transport binding element, the transport binding, application configuration, or host policy.</span></span> <span data-ttu-id="0e4a6-216">このドキュメントでは、ホスト ポリシーを介したトランスポートの設定については説明しません。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-216">This document does not cover setting transports through host policy.</span></span> <span data-ttu-id="0e4a6-217">ホスト ポリシー クォータの設定については、基になるトランスポートのドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-217">Consult the documentation for the underlying transport to discover the settings for host policy quotas.</span></span> <span data-ttu-id="0e4a6-218">[HTTP と HTTPS の構成](configuring-http-and-https.md)に関するトピックでは、Http.sys ドライバーのクォータ設定について説明します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-218">The [Configuring HTTP and HTTPS](configuring-http-and-https.md) topic describes quota settings for the Http.sys driver.</span></span> <span data-ttu-id="0e4a6-219">HTTP、TCP/IP、および名前付きパイプの接続で Windows の制限を構成する詳細については、マイクロソフト サポート技術情報を検索してください。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-219">Search the Microsoft Knowledge Base for more information about configuring Windows limits on HTTP, TCP/IP, and named pipe connections.</span></span>  
  
 <span data-ttu-id="0e4a6-220">他の種類のクォータは、トランスポートへ間接的に適用されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-220">Other types of quotas apply indirectly to transports.</span></span> <span data-ttu-id="0e4a6-221">トランスポートがメッセージをバイトに変換するために使用するメッセージ エンコーダーには、独自のクォータ設定があります。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-221">The message encoder that the transport uses to transform a message into bytes can have its own quota settings.</span></span> <span data-ttu-id="0e4a6-222">ただし、これらのクォータは使用されているトランスポートの種類に依存しません。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-222">However, these quotas are independent of the type of transport being used.</span></span>  
  
### <a name="controlling-transport-quotas-from-the-binding-element"></a><span data-ttu-id="0e4a6-223">バインド要素によるトランスポート クォータの制御</span><span class="sxs-lookup"><span data-stu-id="0e4a6-223">Controlling Transport Quotas from the Binding Element</span></span>  

 <span data-ttu-id="0e4a6-224">バインド要素を介してトランスポート クォータを設定した場合、トランスポートの動作を最も柔軟に制御できます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-224">Setting transport quotas through the binding element offers the greatest flexibility in controlling the transport's behavior.</span></span> <span data-ttu-id="0e4a6-225">閉じる、開く、受信、送信の各操作の既定のタイムアウトは、チャネルを構築したときにバインディングから設定されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-225">The default timeouts for Close, Open, Receive, and Send operations are taken from the binding when a channel is built.</span></span>  
  
|<span data-ttu-id="0e4a6-226">名前</span><span class="sxs-lookup"><span data-stu-id="0e4a6-226">Name</span></span>|<span data-ttu-id="0e4a6-227">HTTP</span><span class="sxs-lookup"><span data-stu-id="0e4a6-227">HTTP</span></span>|<span data-ttu-id="0e4a6-228">TCP/IP</span><span class="sxs-lookup"><span data-stu-id="0e4a6-228">TCP/IP</span></span>|<span data-ttu-id="0e4a6-229">名前付きパイプ</span><span class="sxs-lookup"><span data-stu-id="0e4a6-229">Named pipe</span></span>|  
|----------|----------|-------------|----------------|  
|`ChannelInitializationTimeout`||<span data-ttu-id="0e4a6-230">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-230">X</span></span>|<span data-ttu-id="0e4a6-231">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-231">X</span></span>|  
|`CloseTimeout`||||  
|`ConnectionBufferSize`||<span data-ttu-id="0e4a6-232">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-232">X</span></span>|<span data-ttu-id="0e4a6-233">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-233">X</span></span>|  
|`IdleTimeout`||<span data-ttu-id="0e4a6-234">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-234">X</span></span>|<span data-ttu-id="0e4a6-235">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-235">X</span></span>|  
|`LeaseTimeout`||<span data-ttu-id="0e4a6-236">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-236">X</span></span>||  
|`ListenBacklog`||<span data-ttu-id="0e4a6-237">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-237">X</span></span>||  
|`MaxBufferPoolSize`|<span data-ttu-id="0e4a6-238">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-238">X</span></span>|<span data-ttu-id="0e4a6-239">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-239">X</span></span>|<span data-ttu-id="0e4a6-240">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-240">X</span></span>|  
|`MaxBufferSize`|<span data-ttu-id="0e4a6-241">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-241">X</span></span>|<span data-ttu-id="0e4a6-242">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-242">X</span></span>|<span data-ttu-id="0e4a6-243">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-243">X</span></span>|  
|`MaxOutboundConnectionsPerEndpoint`||<span data-ttu-id="0e4a6-244">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-244">X</span></span>|<span data-ttu-id="0e4a6-245">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-245">X</span></span>|  
|`MaxOutputDelay`||<span data-ttu-id="0e4a6-246">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-246">X</span></span>|<span data-ttu-id="0e4a6-247">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-247">X</span></span>|  
|`MaxPendingAccepts`||<span data-ttu-id="0e4a6-248">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-248">X</span></span>|<span data-ttu-id="0e4a6-249">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-249">X</span></span>|  
|`MaxPendingConnections`||<span data-ttu-id="0e4a6-250">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-250">X</span></span>|<span data-ttu-id="0e4a6-251">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-251">X</span></span>|  
|`MaxReceivedMessageSize`|<span data-ttu-id="0e4a6-252">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-252">X</span></span>|<span data-ttu-id="0e4a6-253">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-253">X</span></span>|<span data-ttu-id="0e4a6-254">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-254">X</span></span>|  
|`OpenTimeout`||||  
|`ReceiveTimeout`||||  
|`SendTimeout`||||  
  
### <a name="controlling-transport-quotas-from-the-binding"></a><span data-ttu-id="0e4a6-255">バインディングによるトランスポート クォータの制御</span><span class="sxs-lookup"><span data-stu-id="0e4a6-255">Controlling Transport Quotas from the Binding</span></span>  

 <span data-ttu-id="0e4a6-256">バインディングによるトランスポート クォータの設定では、選択対象のクォータがセットにまとめられます。ただし、最も一般的に使用するクォータ値にはアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-256">Setting transport quotas through the binding offers a simplified set of quotas to choose from while still giving access to the most common quota values.</span></span>  
  
|<span data-ttu-id="0e4a6-257">名前</span><span class="sxs-lookup"><span data-stu-id="0e4a6-257">Name</span></span>|<span data-ttu-id="0e4a6-258">HTTP</span><span class="sxs-lookup"><span data-stu-id="0e4a6-258">HTTP</span></span>|<span data-ttu-id="0e4a6-259">TCP/IP</span><span class="sxs-lookup"><span data-stu-id="0e4a6-259">TCP/IP</span></span>|<span data-ttu-id="0e4a6-260">名前付きパイプ</span><span class="sxs-lookup"><span data-stu-id="0e4a6-260">Named pipe</span></span>|  
|----------|----------|-------------|----------------|  
|`ChannelInitializationTimeout`||||  
|`CloseTimeout`|<span data-ttu-id="0e4a6-261">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-261">X</span></span>|<span data-ttu-id="0e4a6-262">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-262">X</span></span>|<span data-ttu-id="0e4a6-263">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-263">X</span></span>|  
|`ConnectionBufferSize`||||  
|`IdleTimeout`||||  
|`LeaseTimeout`||||  
|`ListenBacklog`||<span data-ttu-id="0e4a6-264">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-264">X</span></span>||  
|`MaxBufferPoolSize`|<span data-ttu-id="0e4a6-265">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-265">X</span></span>|<span data-ttu-id="0e4a6-266">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-266">X</span></span>|<span data-ttu-id="0e4a6-267">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-267">X</span></span>|  
|`MaxBufferSize`|<span data-ttu-id="0e4a6-268">1</span><span class="sxs-lookup"><span data-stu-id="0e4a6-268">1</span></span>|<span data-ttu-id="0e4a6-269">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-269">X</span></span>|<span data-ttu-id="0e4a6-270">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-270">X</span></span>|  
|`MaxOutboundConnectionsPerEndpoint`||<span data-ttu-id="0e4a6-271">2</span><span class="sxs-lookup"><span data-stu-id="0e4a6-271">2</span></span>|<span data-ttu-id="0e4a6-272">2</span><span class="sxs-lookup"><span data-stu-id="0e4a6-272">2</span></span>|  
|`MaxOutputDelay`||||  
|`MaxPendingAccepts`||||  
|`MaxPendingConnections`||<span data-ttu-id="0e4a6-273">2</span><span class="sxs-lookup"><span data-stu-id="0e4a6-273">2</span></span>|<span data-ttu-id="0e4a6-274">2</span><span class="sxs-lookup"><span data-stu-id="0e4a6-274">2</span></span>|  
|`MaxReceivedMessageSize`|<span data-ttu-id="0e4a6-275">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-275">X</span></span>|<span data-ttu-id="0e4a6-276">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-276">X</span></span>|<span data-ttu-id="0e4a6-277">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-277">X</span></span>|  
|`OpenTimeout`|<span data-ttu-id="0e4a6-278">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-278">X</span></span>|<span data-ttu-id="0e4a6-279">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-279">X</span></span>|<span data-ttu-id="0e4a6-280">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-280">X</span></span>|  
|`ReceiveTimeout`|<span data-ttu-id="0e4a6-281">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-281">X</span></span>|<span data-ttu-id="0e4a6-282">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-282">X</span></span>|<span data-ttu-id="0e4a6-283">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-283">X</span></span>|  
|`SendTimeout`|<span data-ttu-id="0e4a6-284">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-284">X</span></span>|<span data-ttu-id="0e4a6-285">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-285">X</span></span>|<span data-ttu-id="0e4a6-286">X</span><span class="sxs-lookup"><span data-stu-id="0e4a6-286">X</span></span>|  
  
1. <span data-ttu-id="0e4a6-287">`MaxBufferSize` トランスポート クォータは、`BasicHttp` バインディングでのみ使用可能です。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-287">The `MaxBufferSize` transport quota is only available on the `BasicHttp` binding.</span></span> <span data-ttu-id="0e4a6-288">`WSHttp` バインディングは、ストリーミング トランスポート モードがサポートされないシナリオに対応します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-288">The `WSHttp` bindings are for scenarios that do not support streamed transport modes.</span></span>  
  
2. <span data-ttu-id="0e4a6-289">トランスポート クォータ `MaxPendingConnections` および `MaxOutboundConnectionsPerEndpoint` は、`MaxConnections` トランスポート クォータと呼ばれる単一のクォータに結合されます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-289">The transport quotas `MaxPendingConnections` and `MaxOutboundConnectionsPerEndpoint` are combined into a single transport quota called `MaxConnections`.</span></span>  
  
### <a name="controlling-transport-quotas-from-configuration"></a><span data-ttu-id="0e4a6-290">構成によるトランスポート クォータの制御</span><span class="sxs-lookup"><span data-stu-id="0e4a6-290">Controlling Transport Quotas from Configuration</span></span>  

 <span data-ttu-id="0e4a6-291">アプリケーション構成からバインディング上のプロパティに直接アクセスして、同じトランスポート クォータを設定できます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-291">Application configuration can set the same transport quotas as directly accessing properties on a binding.</span></span> <span data-ttu-id="0e4a6-292">構成ファイルでは、トランスポート クォータの名前は必ず小文字で始めます。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-292">In configuration files, the name of a transport quota always starts with a lowercase letter.</span></span> <span data-ttu-id="0e4a6-293">たとえば、バインディングの `CloseTimeout` プロパティは構成では `closeTimeout` 設定に対応し、バインディングの `MaxConnections` プロパティは構成では `maxConnections` 設定に対応します。</span><span class="sxs-lookup"><span data-stu-id="0e4a6-293">For example, the `CloseTimeout` property on a binding corresponds to the `closeTimeout` setting in configuration and the `MaxConnections` property on a binding corresponds to the `maxConnections` setting in configuration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0e4a6-294">関連項目</span><span class="sxs-lookup"><span data-stu-id="0e4a6-294">See also</span></span>

- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>
- <xref:System.ServiceModel.Channels.HttpTransportBindingElement>
- <xref:System.ServiceModel.Channels.TcpTransportBindingElement>
- <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>
- <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement>
- <xref:System.ServiceModel.Channels.TransportBindingElement>
