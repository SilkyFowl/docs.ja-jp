---
description: 詳細については、「認証モード」を参照してください。
title: SecurityBindingElement 認証モード
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 12300bf4-c730-4405-9f65-d286f68b5a43
ms.openlocfilehash: bf91f0fbb112e8a0fcd4d03fe7dd82a3a4eebbd0
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2021
ms.locfileid: "99793585"
---
# <a name="securitybindingelement-authentication-modes"></a><span data-ttu-id="7f6db-103">SecurityBindingElement 認証モード</span><span class="sxs-lookup"><span data-stu-id="7f6db-103">SecurityBindingElement Authentication Modes</span></span>

<span data-ttu-id="7f6db-104">Windows Communication Foundation (WCF) では、クライアントとサービスが相互に認証するために使用されるモードがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="7f6db-104">Windows Communication Foundation (WCF) provides several modes by which clients and services authenticate to one another.</span></span> <span data-ttu-id="7f6db-105"><xref:System.ServiceModel.Channels.SecurityBindingElement> クラスの静的メソッドまたは構成を使用して、この認証モード用のセキュリティ バインド要素を作成できます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-105">You can create security binding elements for these authentication modes by using static methods on the <xref:System.ServiceModel.Channels.SecurityBindingElement> class or through configuration.</span></span> <span data-ttu-id="7f6db-106">このトピックでは、18 の認証モードについて簡単に説明します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-106">This topic briefly describes the 18 authentication modes.</span></span>  
  
 <span data-ttu-id="7f6db-107">認証モードの1つに要素を使用する例については、「 [方法: 指定された認証モードのための説明を作成](how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f6db-107">For an example of using the element for one of the authentication modes, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span></span>  
  
## <a name="basic-configuration-programming"></a><span data-ttu-id="7f6db-108">基本的な構成プログラミング</span><span class="sxs-lookup"><span data-stu-id="7f6db-108">Basic Configuration Programming</span></span>  

 <span data-ttu-id="7f6db-109">構成ファイルで認証モードを設定する手順を次に示します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-109">The following procedure describes how to set the authentication mode in a configuration file.</span></span>  
  
#### <a name="to-set-the-authentication-mode-in-configuration"></a><span data-ttu-id="7f6db-110">構成で認証モードを設定するには</span><span class="sxs-lookup"><span data-stu-id="7f6db-110">To set the authentication mode in configuration</span></span>  
  
1. <span data-ttu-id="7f6db-111">要素にを [\<bindings>](../../configure-apps/file-schema/wcf/bindings.md) 追加 [\<customBinding>](../../configure-apps/file-schema/wcf/custombinding.md) します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-111">To the [\<bindings>](../../configure-apps/file-schema/wcf/bindings.md) element, add a [\<customBinding>](../../configure-apps/file-schema/wcf/custombinding.md).</span></span>  
  
2. <span data-ttu-id="7f6db-112">子要素として、要素 [\<binding>](../../configure-apps/file-schema/wcf/bindings.md) に要素を追加し `<customBinding>` ます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-112">As a child element, add a [\<binding>](../../configure-apps/file-schema/wcf/bindings.md) element to the `<customBinding>` element.</span></span>  
  
3. <span data-ttu-id="7f6db-113">`<security>` 要素を `<binding>` 要素に追加します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-113">Add a `<security>` element to the `<binding>` element.</span></span>  
  
4. <span data-ttu-id="7f6db-114">`authenticationMode` 属性を、以下で説明する値のいずれかに設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-114">Set the `authenticationMode` attribute to one of the values described below.</span></span> <span data-ttu-id="7f6db-115">たとえば、次のコードによりモードは `AnonymousForCertificate` に設定されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-115">For example, the following code sets the mode to `AnonymousForCertificate`.</span></span>  
  
    ```xml  
    <bindings>  
      <customBinding>  
        <binding name="SecureCustomBinding">  
         <security authenticationMode ="AnonymousForCertificate" />  
        </binding>  
      </customBinding>  
    </bindings>  
    ```  
  
#### <a name="to-set-the-mode-programmatically"></a><span data-ttu-id="7f6db-116">プログラムでモードを設定するには</span><span class="sxs-lookup"><span data-stu-id="7f6db-116">To set the mode programmatically</span></span>  
  
1. <span data-ttu-id="7f6db-117">戻り値の型を決めます。<xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>、<xref:System.ServiceModel.Channels.TransportSecurityBindingElement>、<xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>、または <xref:System.ServiceModel.Channels.SecurityBindingElement> のいずれかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-117">Determine the return type, which can be one of the following: <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>, or <xref:System.ServiceModel.Channels.SecurityBindingElement>.</span></span>  
  
2. <span data-ttu-id="7f6db-118"><xref:System.ServiceModel.Channels.SecurityBindingElement> クラスの適切な静的メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-118">Call the appropriate static method of the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="7f6db-119">たとえば、次のコードは <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-119">For example, the following code calls the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A> method.</span></span>  
  
     [!code-csharp[c_CustomBindingsAuthMode#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_custombindingsauthmode/cs/source.cs#3)]
     [!code-vb[c_CustomBindingsAuthMode#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_custombindingsauthmode/vb/source.vb#3)]  
  
3. <span data-ttu-id="7f6db-120">カスタム バインドを作成するにはバインド要素を使用します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-120">Use the binding element to create the custom binding.</span></span> <span data-ttu-id="7f6db-121">詳細については、「 [カスタムバインド](../extending/custom-bindings.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f6db-121">For more information, see [Custom Bindings](../extending/custom-bindings.md).</span></span>  
  
## <a name="mode-descriptions"></a><span data-ttu-id="7f6db-122">モードの説明</span><span class="sxs-lookup"><span data-stu-id="7f6db-122">Mode Descriptions</span></span>  
  
### <a name="anonymousforcertificate"></a><span data-ttu-id="7f6db-123">AnonymousForCertificate</span><span class="sxs-lookup"><span data-stu-id="7f6db-123">AnonymousForCertificate</span></span>  

 <span data-ttu-id="7f6db-124">この認証モードでは、クライアントは匿名になり、X.509 証明書を使用してサービスが認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-124">With this authentication mode, the client is anonymous and the service is authenticated using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-125">セキュリティ バインド要素は、<xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-125">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateAnonymousForCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-126">または、 `authenticationMode` <> 要素の属性 `security` をに設定 `AnonymousForCertificate` します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-126">Alternatively, set the `authenticationMode` attribute of the <`security`> element to `AnonymousForCertificate`.</span></span>  
  
### <a name="anonymousforsslnegotiated"></a><span data-ttu-id="7f6db-127">AnonymousForSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="7f6db-127">AnonymousForSslNegotiated</span></span>  

 <span data-ttu-id="7f6db-128">この認証モードでは、クライアントが匿名になり、実行時にネゴシエートされる X.509 証明書を使用してサービスが認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-128">With this authentication mode, the client is anonymous and the service is authenticated using an X.509 certificate that is negotiated at run time.</span></span> <span data-ttu-id="7f6db-129">セキュリティ バインド要素は、最初のパラメーターに <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> の値が渡される場合に <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A> メソッドによって返される `false` です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-129">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A> method when a value of `false` is passed for the first parameter.</span></span> <span data-ttu-id="7f6db-130">代わりに、`authenticationMode` 属性に `AnonymousForSslNegotiated` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-130">Alternatively, set the `authenticationMode` attribute to `AnonymousForSslNegotiated`.</span></span>  
  
### <a name="certificateovertransport"></a><span data-ttu-id="7f6db-131">CertificateOverTransport</span><span class="sxs-lookup"><span data-stu-id="7f6db-131">CertificateOverTransport</span></span>  

 <span data-ttu-id="7f6db-132">この認証モードでは、クライアントは、保証サポート トークン、つまりメッセージ署名を行うトークンとして SOAP 層に表示される X.509 証明書を使用して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-132">With this authentication mode, the client authenticates using an X.509 certificate that appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-133">サービスはトランスポート層で X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-133">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="7f6db-134">セキュリティ バインド要素は、<xref:System.ServiceModel.Channels.TransportSecurityBindingElement> メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateCertificateOverTransportBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-134">The security binding element is a <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateCertificateOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-135">代わりに、`authenticationMode` 属性に `CertificateOverTransport` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-135">Alternatively, set the `authenticationMode` attribute to `CertificateOverTransport`.</span></span>  
  
### <a name="issuedtoken"></a><span data-ttu-id="7f6db-136">IssuedToken</span><span class="sxs-lookup"><span data-stu-id="7f6db-136">IssuedToken</span></span>  

 <span data-ttu-id="7f6db-137">この認証モードでは、クライアントはサービスに対する認証を行いません。代わりに、クライアントはセキュリティ トークン サービスに対して認証を行い、SAML トークンを受信します。その後、クライアントはサーバーに対してこのトークンを提示し、共有キーの情報を示します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-137">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="7f6db-138">サービスはクライアントに対して認証されませんが、そのサービスだけがキーを復号化できるように、セキュリティ トークン サービスは発行されたトークンの一部として共有キーを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-138">The service is not authenticated to the client, as such, but the security token service encrypts the shared key as part of the issued token so that only the service can decrypt the key.</span></span> <span data-ttu-id="7f6db-139">セキュリティ バインド要素は、<xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-139">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-140">代わりに、`authenticationMode` 属性に `IssuedToken` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-140">Alternatively, set the `authenticationMode` attribute to `IssuedToken`.</span></span>  
  
### <a name="issuedtokenforcertificate"></a><span data-ttu-id="7f6db-141">IssuedTokenForCertificate</span><span class="sxs-lookup"><span data-stu-id="7f6db-141">IssuedTokenForCertificate</span></span>  

 <span data-ttu-id="7f6db-142">この認証モードでは、クライアントはサービスに対する認証を行いません。代わりに、クライアントはセキュリティ トークン サービスに対して認証を行い、SAML トークンを受信します。その後、クライアントはサーバーに対してこのトークンを提示し、共有キーの情報を示します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-142">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="7f6db-143">発行済みトークンは、保証サポート トークンまたは所有者トークン (メッセージ署名を行うトークン) として SOAP 層に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-143">The issued token appears at the SOAP layer as either an endorsing supporting token or a bearer token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-144">X.509 証明書を使用したクライアントに対するサービス認証。</span><span class="sxs-lookup"><span data-stu-id="7f6db-144">The service authenticates to the client using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-145">セキュリティ バインド要素は、<xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForCertificateBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-145">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-146">代わりに、`authenticationMode` 属性に `IssuedTokenForCertificate` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-146">Alternatively, set the `authenticationMode` attribute to `IssuedTokenForCertificate`.</span></span>  
  
### <a name="issuedtokenforsslnegotiated"></a><span data-ttu-id="7f6db-147">IssuedTokenForSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="7f6db-147">IssuedTokenForSslNegotiated</span></span>  

 <span data-ttu-id="7f6db-148">この認証モードでは、クライアントはサービスに対する認証を行いません。代わりに、クライアントはセキュリティ トークン サービスに対して認証を行い、SAML トークンを受信します。その後、クライアントはサーバーに対してこのトークンを提示し、共有キーの情報を示します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-148">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="7f6db-149">発行済みトークンは、保証サポート トークンまたは所有者トークン (メッセージ署名を行うトークン) として SOAP 層に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-149">The issued token appears at the SOAP layer as either an endorsing supporting token or a bearer token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-150">サービスは X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-150">The service is authenticated using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-151">セキュリティ バインド要素は、<xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForSslBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-151">The security binding element is a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForSslBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-152">代わりに、`authenticationMode` 属性に `IssuedTokenForSslnegotiated` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-152">Alternatively, set the `authenticationMode` attribute to `IssuedTokenForSslnegotiated`.</span></span>  
  
### <a name="issuedtokenovertransport"></a><span data-ttu-id="7f6db-153">IssuedTokenOverTransport</span><span class="sxs-lookup"><span data-stu-id="7f6db-153">IssuedTokenOverTransport</span></span>  

 <span data-ttu-id="7f6db-154">この認証モードでは、クライアントはサービスに対する認証を行いません。代わりに、クライアントはセキュリティ トークン サービスに対して認証を行い、SAML トークンを受信します。その後、クライアントはサーバーに対してこのトークンを提示し、共有キーの情報を示します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-154">With this authentication mode, the client does not authenticate to the service, as such; instead, the client authenticates to a security token service and receives a SAML token, which it then presents to the server to prove its knowledge of a shared key.</span></span> <span data-ttu-id="7f6db-155">発行済みトークンは、保証サポート トークンまたは所有者トークン (メッセージ署名を行うトークン) として SOAP 層に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-155">The issued token appears at the SOAP layer as either an endorsing supporting token or a bearer token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-156">サービスはトランスポート層で X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-156">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="7f6db-157">セキュリティ バインド要素は、`TransportSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenOverTransportBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-157">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-158">代わりに、`authenticationMode` 属性に `IssuedTokenOverTransport` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-158">Alternatively, set the `authenticationMode` attribute to `IssuedTokenOverTransport`.</span></span>  
  
### <a name="kerberos"></a><span data-ttu-id="7f6db-159">Kerberos</span><span class="sxs-lookup"><span data-stu-id="7f6db-159">Kerberos</span></span>  

 <span data-ttu-id="7f6db-160">この認証モードでは、クライアントは Kerberos チケットを使用してサービスに対する認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-160">With this authentication mode, the client authenticates to the service using a Kerberos ticket.</span></span> <span data-ttu-id="7f6db-161">また、その同じチケットによってサーバーが認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-161">That same ticket also provides server authentication.</span></span> <span data-ttu-id="7f6db-162">セキュリティ バインド要素は、`SymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-162">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-163">代わりに、`authenticationMode` 属性に `Kerberos` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-163">Alternatively, set the `authenticationMode` attribute to `Kerberos`.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7f6db-164">この認証モードを使用するには、サービス アカウントをサービス プリンシパル名 (SPN: Service Principal Name) に関連付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="7f6db-164">In order to use this authentication mode, the service account must be associated with a service principal name (SPN).</span></span> <span data-ttu-id="7f6db-165">この関連付けを行うには、NETWORK SERVICE アカウントまたは LOCAL SYSTEM アカウントでサービスを実行します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-165">To do this, run the service under the NETWORK SERVICE account or the LOCAL SYSTEM account.</span></span> <span data-ttu-id="7f6db-166">または、SetSpn.exe ツールを使用して、サービス アカウントの SPN を作成します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-166">Alternatively, use the SetSpn.exe tool to create an SPN for the service account.</span></span> <span data-ttu-id="7f6db-167">どちらの場合も、クライアントは要素で正しい SPN を使用するか、コンストラクターを使用する必要があり [\<servicePrincipalName>](../../configure-apps/file-schema/wcf/serviceprincipalname.md) <xref:System.ServiceModel.EndpointAddress> ます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-167">In either case, the client must use the correct SPN in the [\<servicePrincipalName>](../../configure-apps/file-schema/wcf/serviceprincipalname.md) element, or by using the <xref:System.ServiceModel.EndpointAddress> constructor.</span></span> <span data-ttu-id="7f6db-168">詳細については、「 [サービス id と認証](service-identity-and-authentication.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f6db-168">For more information, see [Service Identity and Authentication](service-identity-and-authentication.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7f6db-169">`Kerberos` 認証モードを使用する場合、<xref:System.Security.Principal.TokenImpersonationLevel.Anonymous> および <xref:System.Security.Principal.TokenImpersonationLevel.Delegation> の各偽装レベルはサポートされません。</span><span class="sxs-lookup"><span data-stu-id="7f6db-169">When the `Kerberos` authentication mode is used, the <xref:System.Security.Principal.TokenImpersonationLevel.Anonymous> and <xref:System.Security.Principal.TokenImpersonationLevel.Delegation> impersonation levels are not supported.</span></span>  
  
### <a name="kerberosovertransport"></a><span data-ttu-id="7f6db-170">KerberosOverTransport</span><span class="sxs-lookup"><span data-stu-id="7f6db-170">KerberosOverTransport</span></span>  

 <span data-ttu-id="7f6db-171">この認証モードでは、クライアントは Kerberos チケットを使用してサービスに対する認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-171">With this authentication mode, the client authenticates to the service using a Kerberos ticket.</span></span> <span data-ttu-id="7f6db-172">Kerberos トークンは、保証サポート トークン、つまりメッセージ署名を行うトークンとして SOAP 層に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-172">The Kerberos token appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-173">サービスはトランスポート層で X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-173">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="7f6db-174">セキュリティ バインド要素は、`TransportSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosOverTransportBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-174">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-175">代わりに、`authenticationMode` 属性に `KerberosOverTransport` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-175">Alternatively, set the `authenticationMode` attribute to `KerberosOverTransport`.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7f6db-176">この認証モードを使用するには、サービス アカウントを SPN に関連付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="7f6db-176">In order to use this authentication mode, the service account must be associated with an SPN.</span></span> <span data-ttu-id="7f6db-177">この関連付けを行うには、NETWORK SERVICE アカウントまたは LOCAL SYSTEM アカウントでサービスを実行します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-177">To do this, run the service under the NETWORK SERVICE account or the LOCAL SYSTEM account.</span></span> <span data-ttu-id="7f6db-178">または、SetSpn.exe ツールを使用して、サービス アカウントの SPN を作成します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-178">Alternatively, use the SetSpn.exe tool to create an SPN for the service account.</span></span> <span data-ttu-id="7f6db-179">どちらの場合も、クライアントは要素で正しい SPN を使用するか、コンストラクターを使用する必要があり [\<servicePrincipalName>](../../configure-apps/file-schema/wcf/serviceprincipalname.md) <xref:System.ServiceModel.EndpointAddress> ます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-179">In either case, the client must use the correct SPN in the [\<servicePrincipalName>](../../configure-apps/file-schema/wcf/serviceprincipalname.md) element, or by using the <xref:System.ServiceModel.EndpointAddress> constructor.</span></span> <span data-ttu-id="7f6db-180">詳細については、「 [サービス id と認証](service-identity-and-authentication.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f6db-180">For more information, see [Service Identity and Authentication](service-identity-and-authentication.md).</span></span>  
  
### <a name="mutualcertificate"></a><span data-ttu-id="7f6db-181">MutualCertificate</span><span class="sxs-lookup"><span data-stu-id="7f6db-181">MutualCertificate</span></span>  

 <span data-ttu-id="7f6db-182">この認証モードでは、クライアントは、保証サポート トークン、つまりメッセージ署名を行うトークンとして SOAP 層に表示される X.509 証明書を使用して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-182">With this authentication mode, the client authenticates using an X.509 certificate that appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-183">また、サービスは X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-183">The service is also authenticated using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-184">セキュリティ バインド要素は、`SymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-184">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-185">代わりに、`authenticationMode` 属性に `MutualCertificate` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-185">Alternatively, set the `authenticationMode` attribute to `MutualCertificate`.</span></span>  
  
### <a name="mutualcertificateduplex"></a><span data-ttu-id="7f6db-186">MutualCertificateDuplex</span><span class="sxs-lookup"><span data-stu-id="7f6db-186">MutualCertificateDuplex</span></span>  

 <span data-ttu-id="7f6db-187">この認証モードでは、クライアントは、保証サポート トークン、つまりメッセージ署名を行うトークンとして SOAP 層に表示される X.509 証明書を使用して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-187">With this authentication mode, the client authenticates using an X.509 certificate that appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-188">また、サービスは X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-188">The service is also authenticated using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-189">バインディングは、`AsymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateDuplexBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-189">The binding is a `AsymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateMutualCertificateDuplexBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-190">代わりに、`authenticationMode` 属性に `MutualCertificateDuplex` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-190">Alternatively, set the `authenticationMode` attribute to `MutualCertificateDuplex`.</span></span>  
  
### <a name="mutualsslnegotiated"></a><span data-ttu-id="7f6db-191">MutualSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="7f6db-191">MutualSslNegotiated</span></span>  

 <span data-ttu-id="7f6db-192">この認証モードでは、クライアントとサービスは X.509 証明書を使用して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-192">With this authentication mode, the client and the service authenticate using X.509 certificates.</span></span> <span data-ttu-id="7f6db-193">セキュリティ バインド要素は、最初のパラメーターに `SymmetricSecurityBindingElement` の値が渡される場合に <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A> メソッドによって返される `true` です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-193">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSslNegotiationBindingElement%2A> method when a value of `true` is passed for the first parameter.</span></span> <span data-ttu-id="7f6db-194">代わりに、`authenticationMode` 属性に `MutualSslNegotiated` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-194">Alternatively, set the `authenticationMode` attribute to `MutualSslNegotiated`.</span></span>  
  
### <a name="secureconversation"></a><span data-ttu-id="7f6db-195">SecureConversation</span><span class="sxs-lookup"><span data-stu-id="7f6db-195">SecureConversation</span></span>  

 <span data-ttu-id="7f6db-196">セキュリティ バインド要素は、`SymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-196">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-197">このメソッドは、パラメーターとして <xref:System.ServiceModel.Channels.SecurityBindingElement> を受け取り、初期化時にこれを使用してセキュリティで保護されたセッションを確立します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-197">This method takes a <xref:System.ServiceModel.Channels.SecurityBindingElement> as a parameter, which is used during initialization to establish the secure session.</span></span> <span data-ttu-id="7f6db-198">代わりに、`authenticationMode` 属性に `SecureConversation` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-198">Alternatively, set the `authenticationMode` attribute to `SecureConversation`.</span></span>  
  
 <span data-ttu-id="7f6db-199">ブートストラップ バインディングを指定していない場合は、ブートストラップのために `SspiNegotiated` 認証モードが使用されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-199">If no bootstrap binding is specified, then the `SspiNegotiated` authentication mode is used for bootstrap.</span></span>  
  
### <a name="sspinegotiation"></a><span data-ttu-id="7f6db-200">SspiNegotiation</span><span class="sxs-lookup"><span data-stu-id="7f6db-200">SspiNegotiation</span></span>  

 <span data-ttu-id="7f6db-201">この認証モードでは、ネゴシエーション プロトコルを使用して、クライアントとサーバーの認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-201">With this authentication mode, a negotiation protocol is used to perform client and server authentication.</span></span> <span data-ttu-id="7f6db-202">Kerberos を使用できる場合は Kerberos が使用され、それ以外の場合は、NTLM (NT LanMan) が使用されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-202">Kerberos is used if possible; otherwise, NT LanMan (NTLM) is used.</span></span> <span data-ttu-id="7f6db-203">セキュリティ バインド要素は、`SymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-203">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-204">代わりに、`authenticationMode` 属性に `SspiNegotiated` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-204">Alternatively, set the `authenticationMode` attribute to `SspiNegotiated`.</span></span>  
  
### <a name="sspinegotiatedovertransport"></a><span data-ttu-id="7f6db-205">SspiNegotiatedOverTransport</span><span class="sxs-lookup"><span data-stu-id="7f6db-205">SspiNegotiatedOverTransport</span></span>  

 <span data-ttu-id="7f6db-206">この認証モードでは、ネゴシエーション プロトコルを使用して、クライアントとサーバーの認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-206">With this authentication mode, a negotiation protocol is used to perform client and server authentication.</span></span> <span data-ttu-id="7f6db-207">Kerberos プロトコルを使用できる場合は Kerberos プロトコルが使用され、それ以外の場合は NTLM が使用されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-207">Kerberos protocol is used if possible; otherwise, NTLM is used.</span></span> <span data-ttu-id="7f6db-208">発行されたトークンは、保証サポート トークン、つまりメッセージ署名を行うトークンとして SOAP 層に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-208">The resulting token appears at the SOAP layer as an endorsing supporting token; that is, a token that signs the message signature.</span></span> <span data-ttu-id="7f6db-209">サービスは、トランスポート層で X.509 証明書により追加的に認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-209">The service is additionally authenticated at the transport layer by an X.509 certificate.</span></span> <span data-ttu-id="7f6db-210">セキュリティ バインド要素は、`TransportSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationOverTransportBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-210">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-211">代わりに、`authenticationMode` 属性に `SspiNegotiatedOverTransport` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-211">Alternatively, set the `authenticationMode` attribute to `SspiNegotiatedOverTransport`.</span></span>  
  
### <a name="usernameforcertificate"></a><span data-ttu-id="7f6db-212">UserNameForCertificate</span><span class="sxs-lookup"><span data-stu-id="7f6db-212">UserNameForCertificate</span></span>  

 <span data-ttu-id="7f6db-213">この認証モードでは、クライアントは、署名付きサポート トークン、つまりメッセージ署名で署名されたトークンとして SOAP 層に表示されるユーザー名トークンを使用してサービスに対する認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-213">With this authentication mode, the client authenticates to the service using a Username Token that appears at the SOAP layer as a signed supporting token; that is, a token that is signed by the message signature.</span></span> <span data-ttu-id="7f6db-214">X.509 証明書を使用したクライアントに対するサービス認証。</span><span class="sxs-lookup"><span data-stu-id="7f6db-214">The service authenticates to the client using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-215">セキュリティ バインド要素は、`SymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForCertificateBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-215">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForCertificateBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-216">代わりに、`authenticationMode` 属性に `UserNameForCertificate` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-216">Alternatively, set the `authenticationMode` attribute to `UserNameForCertificate`.</span></span>  
  
 <span data-ttu-id="7f6db-217">`UserNameForCertificate` 認証モードでは、クライアントとサービスの両方が WS-Security 1.1 を使用している必要があります。</span><span class="sxs-lookup"><span data-stu-id="7f6db-217">For the `UserNameForCertificate` authentication mode, both the client and service must be using WS-Security 1.1.</span></span>  
  
### <a name="usernameforsslnegotiated"></a><span data-ttu-id="7f6db-218">UserNameForSslNegotiated</span><span class="sxs-lookup"><span data-stu-id="7f6db-218">UserNameForSslNegotiated</span></span>  

 <span data-ttu-id="7f6db-219">この認証モードでは、クライアントは、署名付きサポート トークン、つまりメッセージ署名で署名されたトークンとして SOAP 層に表示されるユーザー名トークンを使用して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-219">With this authentication mode, the client is authenticates using a Username Token which appears at the SOAP layer as a signed supporting token; that is, a token that is signed by the message signature.</span></span> <span data-ttu-id="7f6db-220">サービスは X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-220">The service is authenticated using an X.509 certificate.</span></span> <span data-ttu-id="7f6db-221">セキュリティ バインド要素は、`SymmetricSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForSslBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-221">The security binding element is a `SymmetricSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameForSslBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-222">代わりに、`authenticationMode` 属性に `UserNameForSslNegotiated` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-222">Alternatively, set the `authenticationMode` attribute to `UserNameForSslNegotiated`.</span></span>  
  
### <a name="usernameovertransport"></a><span data-ttu-id="7f6db-223">UserNameOverTransport</span><span class="sxs-lookup"><span data-stu-id="7f6db-223">UserNameOverTransport</span></span>  

 <span data-ttu-id="7f6db-224">この認証モードでは、クライアントは、署名付きサポート トークン、つまりメッセージ署名で署名されたトークンとして SOAP 層に表示されるユーザー名トークンを使用して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="7f6db-224">With this authentication mode, the client authenticates using a Username Token that appears at the SOAP layer as a signed supporting token; that is, a token that is signed by the message signature.</span></span> <span data-ttu-id="7f6db-225">サービスはトランスポート層で X.509 証明書を使用して認証されます。</span><span class="sxs-lookup"><span data-stu-id="7f6db-225">The service is authenticated using an X.509 certificate at the transport layer.</span></span> <span data-ttu-id="7f6db-226">セキュリティ バインド要素は、`TransportSecurityBindingElement` メソッドによって返される <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameOverTransportBindingElement%2A> です。</span><span class="sxs-lookup"><span data-stu-id="7f6db-226">The security binding element is a `TransportSecurityBindingElement` returned by the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateUserNameOverTransportBindingElement%2A> method.</span></span> <span data-ttu-id="7f6db-227">代わりに、`authenticationMode` 属性に `UserNameOverTransport` を設定します。</span><span class="sxs-lookup"><span data-stu-id="7f6db-227">Alternatively, set the `authenticationMode` attribute to `UserNameOverTransport`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f6db-228">関連項目</span><span class="sxs-lookup"><span data-stu-id="7f6db-228">See also</span></span>

- <xref:System.ServiceModel.Channels.SecurityBindingElement>
- [<span data-ttu-id="7f6db-229">方法: 指定した認証モード用の SecurityBindingElement を作成する</span><span class="sxs-lookup"><span data-stu-id="7f6db-229">How to: Create a SecurityBindingElement for a Specified Authentication Mode</span></span>](how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)
