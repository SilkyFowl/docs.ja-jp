---
description: '詳細情報: サービスのセキュリティ保護'
title: サービスのセキュリティ保護
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: 6d72b814e0669cac90210bd02f36740673f3960e
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2021
ms.locfileid: "99685310"
---
# <a name="securing-services"></a><span data-ttu-id="2db01-103">サービスのセキュリティ保護</span><span class="sxs-lookup"><span data-stu-id="2db01-103">Securing Services</span></span>

<span data-ttu-id="2db01-104">Windows Communication Foundation (WCF) サービスのセキュリティは、転送セキュリティと承認という2つの主要な要件で構成されています。</span><span class="sxs-lookup"><span data-stu-id="2db01-104">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="2db01-105">(セキュリティイベントの監査の3番目の要件については、「 [監査](./feature-details/auditing-security-events.md)」を参照してください)。簡単に言えば、転送セキュリティには、認証 (サービスとクライアントの両方の id の確認)、機密性 (メッセージの暗号化)、整合性 (改ざんを検出するためのデジタル署名) などがあります。</span><span class="sxs-lookup"><span data-stu-id="2db01-105">(A third requirement, auditing of security events, is described in [Auditing](./feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="2db01-106">承認は、たとえば、特権のあるユーザーだけがファイルを読み取ることができるなど、リソースへのアクセスを制御することです。</span><span class="sxs-lookup"><span data-stu-id="2db01-106">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="2db01-107">WCF の機能を使用すると、2つの主要な要件を簡単に実装できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-107">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="2db01-108"><xref:System.ServiceModel.BasicHttpBinding>クラス (または [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) 構成内の要素) を除き、既定では、すべての定義済みバインドに対して転送セキュリティが有効になっています。</span><span class="sxs-lookup"><span data-stu-id="2db01-108">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="2db01-109">このセクションのトピックでは、2 つの基本的なシナリオ、インターネット インフォメーション サービス (IIS) でホストされるイントラネット サービス上で転送セキュリティと承認を実装するシナリオと、IIS でホストされるサービス上で転送セキュリティと承認を実装するシナリオについて説明します。</span><span class="sxs-lookup"><span data-stu-id="2db01-109">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2db01-110">Windows XP Home では、Windows 認証をサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="2db01-110">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="2db01-111">このため、このシステムではサービスを実行しないでください。</span><span class="sxs-lookup"><span data-stu-id="2db01-111">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="2db01-112">セキュリティの基礎</span><span class="sxs-lookup"><span data-stu-id="2db01-112">Security Basics</span></span>  

 <span data-ttu-id="2db01-113">セキュリティは、 *資格情報* に依存します。</span><span class="sxs-lookup"><span data-stu-id="2db01-113">Security relies on *credentials*.</span></span> <span data-ttu-id="2db01-114">資格情報は、エンティティが本物であることを証明します</span><span class="sxs-lookup"><span data-stu-id="2db01-114">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="2db01-115">(*エンティティ* には、個人、ソフトウェアプロセス、会社、または承認可能なすべてのものを指定できます)。たとえば、サービスのクライアントが *id* の *クレーム* を作成し、資格情報が何らかの方法で要求を証明します。</span><span class="sxs-lookup"><span data-stu-id="2db01-115">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="2db01-116">通常のシナリオでは、資格情報の交換が行われます。</span><span class="sxs-lookup"><span data-stu-id="2db01-116">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="2db01-117">最初に、サービスがその ID のクレームを作成し、資格情報を使用してクライアントにそのクレームを証明します。</span><span class="sxs-lookup"><span data-stu-id="2db01-117">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="2db01-118">次に、クライアントが ID のクレームを作成し、サービスに資格情報を提示します。</span><span class="sxs-lookup"><span data-stu-id="2db01-118">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="2db01-119">両方がお互いの資格情報を信頼した場合、 *セキュリティで保護されたコンテキスト* を確立できます。このコンテキストでは、すべてのメッセージは機密性が保護された状態で交換され、すべてのメッセージはその整合性を保護するために署名されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-119">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="2db01-120">サービスはクライアントの ID を確立した後で、クライアントの資格情報のクレームをグループの *ロール* または *メンバーシップ* に適合できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-120">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="2db01-121">いずれの場合も、クライアントが属するロールまたはグループを使用して、サービスは、そのクライアントがロール特権またはグループ特権に基づいて限られた操作を実行することを *承認* します。</span><span class="sxs-lookup"><span data-stu-id="2db01-121">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="2db01-122">Windows セキュリティ機構</span><span class="sxs-lookup"><span data-stu-id="2db01-122">Windows Security Mechanisms</span></span>  

 <span data-ttu-id="2db01-123">クライアントとサービスのコンピューターが、両方がネットワークにログオンする必要がある Windows ドメインに存在する場合、資格情報は Windows インフラストラクチャによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-123">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="2db01-124">この場合、コンピューターのユーザーがネットワークにログオンすると資格情報が確立されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-124">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="2db01-125">ネットワーク上の各ユーザーおよび各コンピューターは、信頼されたユーザーおよびコンピューターの集合に属することを検証される必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-125">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="2db01-126">Windows システムでは、このようなユーザーとコンピューターは、 *セキュリティ プリンシパル* とも呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="2db01-126">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="2db01-127">*Kerberos* コントローラーによるサポートがある Windows ドメインでは、Kerberos コントローラーは、チケットを各セキュリティ プリンシパルに付与することをベースにしたスキームを使用します。</span><span class="sxs-lookup"><span data-stu-id="2db01-127">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="2db01-128">コントローラーによって付与されたチケットは、システムの他のチケット付与システムによって信頼されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-128">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="2db01-129">エンティティが何らかの操作を実行しようとしたり、コンピューター上のファイルやディレクトリなどの *リソース* にアクセスしようとしたりすると、その都度チケットの有効性が検査され、検査に合格した場合、プリンシパルに操作用の別のチケットが付与されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-129">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="2db01-130">このチケットの付与方法は、操作ごとにプリンシパルを検証する方法よりも効率的です。</span><span class="sxs-lookup"><span data-stu-id="2db01-130">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="2db01-131">Windows ドメインで従来より使用されている安全性が低い機構に、NT LAN Manager (NTLM) があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-131">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="2db01-132">Kerberos を使用できない場合 (通常、ワークグループなどの Windows ドメインの外部)、代わりに NTLM を使用できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-132">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="2db01-133">NTLM は、IIS のセキュリティ オプションとしても使用できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-133">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="2db01-134">Windows システムでは、各コンピューターとユーザーにロールとグループのセットを割り当てることによって承認が機能します。</span><span class="sxs-lookup"><span data-stu-id="2db01-134">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="2db01-135">たとえば、各 Windows コンピューターは、 *管理者* のロールに属するユーザー (またはユーザー グループ) がセットアップし、管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-135">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="2db01-136">もう 1 つのロールは、 *ユーザー* のロールです。このロールのアクセス許可は、管理者ロールより制限されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-136">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="2db01-137">ロール以外に、ユーザーはグループにも割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="2db01-137">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="2db01-138">グループによって、複数のユーザーが同じロールで動作できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-138">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="2db01-139">このため、実際 Windows コンピューターは、ユーザーをグループに割り当てることによって管理されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-139">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="2db01-140">たとえば、複数のユーザーをコンピューターのユーザー グループに割り当て、限られた人数のユーザーを管理者グループに割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="2db01-140">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="2db01-141">ローカル コンピューターでは、管理者は新しいグループを作成して、他のユーザー (または他のグループ) をそのグループに割り当てることもできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-141">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="2db01-142">Windows を実行しているコンピューターでは、ディレクトリの各フォルダーを保護できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-142">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="2db01-143">つまり、フォルダーを選択して、そのフォルダーのファイルにアクセスできるユーザー、およびそのユーザーがファイルのコピー、ファイルの変更 (最大限の特権が与えられている場合)、ファイルの削除、またはフォルダーへのファイルの追加を実行できるかどうかを制御できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-143">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="2db01-144">これは、アクセス制御と呼ばれ、その機構はアクセス制御リスト (ACL) と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="2db01-144">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="2db01-145">ACL を作成するとき、アクセス権を 1 つまたは複数のグループおよびドメインの個別のメンバーに割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="2db01-145">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="2db01-146">WCF インフラストラクチャは、これらの Windows セキュリティ機構を使用するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="2db01-146">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="2db01-147">したがって、イントラネットに展開するサービスを作成していて、そのクライアントを Windows ドメインのメンバーに限定する場合、セキュリティを簡単に実装できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-147">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="2db01-148">有効なユーザーだけがドメインにログオンできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-148">Only valid users can log on to the domain.</span></span> <span data-ttu-id="2db01-149">ログオン後、Kerberos コントローラーによって、各ユーザーは他のコンピューターまたはアプリケーションとの間にセキュリティで保護されたコンテキストを確立できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-149">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="2db01-150">ローカル コンピューターでは、グループを簡単に作成でき、特定のフォルダーを保護する場合、そのグループを使用してローカル コンピューター上でアクセス権を割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="2db01-150">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="2db01-151">イントラネット サービスでの Windows セキュリティの実装</span><span class="sxs-lookup"><span data-stu-id="2db01-151">Implementing Windows Security on Intranet Services</span></span>  

 <span data-ttu-id="2db01-152">Windows ドメインでのみ実行するアプリケーションをセキュリティで保護するには、 <xref:System.ServiceModel.WSHttpBinding> または <xref:System.ServiceModel.NetTcpBinding> バインディングの既定のセキュリティ設定を使用できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-152">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="2db01-153">既定では、同じ Windows ドメインのすべてのユーザーが WCF サービスにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-153">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="2db01-154">ドメイン内にいるユーザーは、ネットワークにログオン済みなので信頼できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-154">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="2db01-155">サービスとクライアントの間で交換されるメッセージは、機密性を保護するために暗号化され、整合性を保護するために署名されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-155">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="2db01-156">Windows セキュリティを使用するサービスを作成する方法の詳細については、「 [方法: Windows 資格情報を使用してサービスをセキュリティで保護](how-to-secure-a-service-with-windows-credentials.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-156">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="2db01-157">PrincipalPermissionAttribute クラスを使用した承認</span><span class="sxs-lookup"><span data-stu-id="2db01-157">Authorization Using the PrincipalPermissionAttribute Class</span></span>  

 <span data-ttu-id="2db01-158">コンピューター上のリソースへのアクセスを制限する必要がある場合、最も簡単な方法は <xref:System.Security.Permissions.PrincipalPermissionAttribute> クラスを使用することです。</span><span class="sxs-lookup"><span data-stu-id="2db01-158">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="2db01-159">この属性を使用すると、ユーザーが指定の Windows グループまたはロールに属しているか、特定のユーザーであることを要求して、サービス操作の呼び出しを制限できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-159">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="2db01-160">詳細については、「 [方法: PrincipalPermissionAttribute クラスを使用してアクセスを制限する](how-to-restrict-access-with-the-principalpermissionattribute-class.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-160">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="2db01-161">偽装</span><span class="sxs-lookup"><span data-stu-id="2db01-161">Impersonation</span></span>  

 <span data-ttu-id="2db01-162">偽装は、リソース アクセスの制御に使用できるもう 1 つの機構です。</span><span class="sxs-lookup"><span data-stu-id="2db01-162">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="2db01-163">既定では、IIS でホストされるサービスは、ASPNET アカウントの ID で実行されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-163">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="2db01-164">ASPNET アカウントは、アクセス許可のあるリソースにだけアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-164">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="2db01-165">ただし、ASPNET サービス アカウントを除外し、他の特定の ID によるフォルダーへのアクセスを許可するように ACL を設定できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-165">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="2db01-166">ここで問題となるのが、ASPNET アカウントがフォルダーにアクセスできない場合に、他のユーザーがフォルダーにアクセスできるようにする方法です。</span><span class="sxs-lookup"><span data-stu-id="2db01-166">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="2db01-167">これは、偽装を使用することで解決できます。偽装によって、サービスは特定のリソースにアクセスするためにクライアントの資格情報を使用できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-167">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="2db01-168">もう 1 つの例は、特定のユーザーだけがアクセス許可を持つ SQL Server データベースにアクセスする場合です。</span><span class="sxs-lookup"><span data-stu-id="2db01-168">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="2db01-169">偽装の使用方法の詳細については、「 [方法: サービスでクライアントを偽装](how-to-impersonate-a-client-on-a-service.md) する」および「 [委任と偽装](./feature-details/delegation-and-impersonation-with-wcf.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-169">For more information about using impersonation, see [How to: Impersonate a Client on a Service](how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](./feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="2db01-170">インターネット上のセキュリティ</span><span class="sxs-lookup"><span data-stu-id="2db01-170">Security on the Internet</span></span>  

 <span data-ttu-id="2db01-171">インターネット上のセキュリティは、イントラネット上のセキュリティと同じ要件で構成されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-171">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="2db01-172">サービスは、信頼性を証明するために資格情報を提示する必要があり、クライアントは、サービスに対して ID を証明する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-172">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="2db01-173">クライアントの ID が証明されると、サービスは、クライアントによるリソースへのアクセスを制御できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-173">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="2db01-174">ただし、インターネットではさまざまな種類が混在しているので、提示される資格情報は、Windows ドメインで使用される資格情報とは異なります。</span><span class="sxs-lookup"><span data-stu-id="2db01-174">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="2db01-175">Kerberos コントローラーが資格情報のチケットを使用して、ドメインでユーザーの認証を処理するのに対し、インターネットでは、サービスとクライアントは、資格情報を提示するための複数の異なる方法のいずれかに依存します。</span><span class="sxs-lookup"><span data-stu-id="2db01-175">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="2db01-176">ただし、このトピックの目的は、インターネット上でアクセス可能な WCF サービスを作成できるようにするための一般的なアプローチを提供することです。</span><span class="sxs-lookup"><span data-stu-id="2db01-176">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="2db01-177">IIS と ASP.NET の使用</span><span class="sxs-lookup"><span data-stu-id="2db01-177">Using IIS and ASP.NET</span></span>  

 <span data-ttu-id="2db01-178">インターネット セキュリティの要件、およびその問題を解決するための機構は、新しいものではありません。</span><span class="sxs-lookup"><span data-stu-id="2db01-178">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="2db01-179">IIS は、マイクロソフトのインターネット用 Web サーバーであり、これらの問題に対処する多くのセキュリティ機能を備えています。さらに、ASP.NET には、WCF サービスで使用できるセキュリティ機能が含まれています。</span><span class="sxs-lookup"><span data-stu-id="2db01-179">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, ASP.NET includes security features that WCF services can use.</span></span> <span data-ttu-id="2db01-180">これらのセキュリティ機能を利用するには、IIS で WCF サービスをホストします。</span><span class="sxs-lookup"><span data-stu-id="2db01-180">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="2db01-181">ASP.NET メンバーシップとロール プロバイダーの使用</span><span class="sxs-lookup"><span data-stu-id="2db01-181">Using ASP.NET Membership and Role Providers</span></span>  

 <span data-ttu-id="2db01-182">ASP.NET には、メンバーシップとロール プロバイダーが用意されています。</span><span class="sxs-lookup"><span data-stu-id="2db01-182">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="2db01-183">プロバイダーは、呼び出し元を認証するためのユーザー名とパスワードの組み合わせのデータベースであり、これによって、各呼び出し元のアクセス特権を指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-183">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="2db01-184">WCF では、構成によって既存のメンバーシップとロールプロバイダーを簡単に使用できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-184">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="2db01-185">この機能を示すサンプル アプリケーションについては、「 [Membership and Role Provider](./samples/membership-and-role-provider.md) 」のサンプルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-185">For a sample application that demonstrates this, see the [Membership and Role Provider](./samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="2db01-186">IIS で使用する資格情報</span><span class="sxs-lookup"><span data-stu-id="2db01-186">Credentials Used by IIS</span></span>  

 <span data-ttu-id="2db01-187">Kerberos コントローラーによるサポートがある Windows ドメインとは異なり、インターネットには、随時ログオンしている多数のユーザーを管理するための共通のコントローラーがありません。</span><span class="sxs-lookup"><span data-stu-id="2db01-187">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="2db01-188">代わりに、インターネットの資格情報は、ほとんどの場合、X.509 証明書 (SSL (Secure Sockets Layer) 証明書とも呼ばれる) の形で提示されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-188">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="2db01-189">この証明書は、通常、 *証明機関* によって発行されます。この証明機関は、証明書の信頼性を保証するサードパーティの企業および証明書が発行された個人です。</span><span class="sxs-lookup"><span data-stu-id="2db01-189">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="2db01-190">インターネット上にサービスを公開するには、このような信頼された証明書を提供して、サービスを認証する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-190">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="2db01-191">それでは、どのように信頼された証明書を取得するのでしょうか。</span><span class="sxs-lookup"><span data-stu-id="2db01-191">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="2db01-192">その方法の 1 つは、サービスを展開する準備とそのサービスの証明書を購入する準備ができたら、Authenticode、VeriSign などのサードパーティ証明機関に連絡する方法です。</span><span class="sxs-lookup"><span data-stu-id="2db01-192">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="2db01-193">ただし、WCF を使用した開発フェーズで、証明書の購入をコミットする準備ができていない場合、運用環境のデプロイをシミュレートするために使用できる x.509 証明書を作成するためのツールと手法が用意されています。</span><span class="sxs-lookup"><span data-stu-id="2db01-193">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="2db01-194">詳細については、「 [証明書の使用](./feature-details/working-with-certificates.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-194">For more information, see [Working with Certificates](./feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="2db01-195">セキュリティ モード</span><span class="sxs-lookup"><span data-stu-id="2db01-195">Security Modes</span></span>  

 <span data-ttu-id="2db01-196">WCF セキュリティのプログラミングには、いくつかの重要な決定事項が伴います。</span><span class="sxs-lookup"><span data-stu-id="2db01-196">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="2db01-197">最も基本的な決定の 1 つは、 *セキュリティ モード* を選択することです。</span><span class="sxs-lookup"><span data-stu-id="2db01-197">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="2db01-198">2 つの主要なセキュリティ モードとして、 *トランスポート モード* と *メッセージ モード* があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-198">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="2db01-199">3 番目のモードは、2 つの主要モードのセマンティクスを組み合わせたもので、 *メッセージ資格情報付きトランスポート モード* です。</span><span class="sxs-lookup"><span data-stu-id="2db01-199">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="2db01-200">セキュリティ モードによって、メッセージをセキュリティで保護する方法が決まります。それぞれのモードには、次に示す利点と欠点があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-200">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="2db01-201">セキュリティモードの設定の詳細については、「 [方法: セキュリティモードを設定する](how-to-set-the-security-mode.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-201">For more information about setting the security mode, see [How to: Set the Security Mode](how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="2db01-202">トランスポート モード</span><span class="sxs-lookup"><span data-stu-id="2db01-202">Transport Mode</span></span>  

 <span data-ttu-id="2db01-203">ネットワークとアプリケーションの間には複数の層があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-203">There are several layers between the network and the application.</span></span> <span data-ttu-id="2db01-204">この層の 1 つが *トランスポート* 層で、エンドポイント間のメッセージ転送を管理します 。</span><span class="sxs-lookup"><span data-stu-id="2db01-204">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="2db01-205">現時点では、WCF では複数のトランスポートプロトコルが使用されており、それぞれがメッセージの転送をセキュリティで保護できることを理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-205">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="2db01-206">(トランスポートの詳細については、「 [トランスポート](./feature-details/transports.md)」を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="2db01-206">(For more information about transports, see [Transports](./feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="2db01-207">一般的に使用されるプロトコルは HTTP ですが、その他にも TCP があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-207">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="2db01-208">この各プロトコルは、プロトコルに固有の機構によってメッセージ転送をセキュリティで保護できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-208">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="2db01-209">たとえば、HTTP プロトコルは SSL over HTTP (一般的に "HTTPS" と省略される) を使用してセキュリティで保護されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-209">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="2db01-210">そのため、セキュリティのトランスポート モードを選択するときは、同時に、プロトコルによって指定された機構の使用を選択することになります。</span><span class="sxs-lookup"><span data-stu-id="2db01-210">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="2db01-211">たとえば、 <xref:System.ServiceModel.WSHttpBinding> クラスを選択し、そのセキュリティ モードをトランスポートに設定した場合、セキュリティ機構として SSL over HTTP (HTTPS) を選択することになります。</span><span class="sxs-lookup"><span data-stu-id="2db01-211">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="2db01-212">トランスポート モードの利点は、セキュリティが比較的低いレベルで統合されるので、メッセージ モードよりも効率的であるという点です。</span><span class="sxs-lookup"><span data-stu-id="2db01-212">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="2db01-213">トランスポート モードを使用するとき、トランスポートの仕様に基づいてセキュリティ機構を実装する必要があります。これによって、トランスポートを経由した Point-to-Point からのみメッセージを安全にフローできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-213">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="2db01-214">メッセージ モード</span><span class="sxs-lookup"><span data-stu-id="2db01-214">Message Mode</span></span>  

 <span data-ttu-id="2db01-215">一方、メッセージ モードでは、セキュリティ データを各メッセージの一部として追加することによってセキュリティを提供します。</span><span class="sxs-lookup"><span data-stu-id="2db01-215">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="2db01-216">XML および SOAP のセキュリティ ヘッダーを使用して、メッセージの整合性と機密性を確保するために必要な資格情報とその他のデータを各メッセージに追加します。</span><span class="sxs-lookup"><span data-stu-id="2db01-216">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="2db01-217">各メッセージにはセキュリティ データが追加され、各メッセージを個別に処理する必要があるので、パフォーマンスが犠牲になります</span><span class="sxs-lookup"><span data-stu-id="2db01-217">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="2db01-218">(トランスポートモードでは、トランスポート層がセキュリティで保護されると、すべてのメッセージが自由にフローされます)。ただし、メッセージセキュリティは、トランスポートセキュリティよりも1つの利点があります。これは、より柔軟です。</span><span class="sxs-lookup"><span data-stu-id="2db01-218">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="2db01-219">つまり、セキュリティ要件はトランスポートによって決定されません。</span><span class="sxs-lookup"><span data-stu-id="2db01-219">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="2db01-220">メッセージをセキュリティで保護するために、任意の種類のクライアント資格情報を使用できます</span><span class="sxs-lookup"><span data-stu-id="2db01-220">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="2db01-221">(トランスポート モードでは、トランスポート プロトコルによって、使用できるクライアント資格情報の種類が決まります)。</span><span class="sxs-lookup"><span data-stu-id="2db01-221">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="2db01-222">メッセージ資格情報付きトランスポート</span><span class="sxs-lookup"><span data-stu-id="2db01-222">Transport with Message Credentials</span></span>  

 <span data-ttu-id="2db01-223">3 番目のモードは、トランスポート セキュリティとメッセージ セキュリティの利点を組み合わせています。</span><span class="sxs-lookup"><span data-stu-id="2db01-223">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="2db01-224">このモードでは、トランスポート セキュリティを使用して、各メッセージの機密性と整合性を効率的に確保できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-224">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="2db01-225">同時に、各メッセージには、その資格情報データが追加されるので、メッセージを認証できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-225">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="2db01-226">認証と共に、承認も実装できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-226">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="2db01-227">送信者を認証することによって、送信者の ID に応じてリソースへのアクセスが許可または拒否されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-227">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="2db01-228">クライアント資格情報の種類と資格情報の値の指定</span><span class="sxs-lookup"><span data-stu-id="2db01-228">Specifying the Client Credential Type and Credential Value</span></span>  

 <span data-ttu-id="2db01-229">セキュリティ モードを選択した後で、必要に応じて、クライアント資格情報の種類を指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="2db01-229">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="2db01-230">クライアント資格情報の種類では、サービスでの認証時にクライアントが使用する必要がある種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="2db01-230">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="2db01-231">ただし、すべてのシナリオにクライアント資格情報の種類が必要とは限りません。</span><span class="sxs-lookup"><span data-stu-id="2db01-231">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="2db01-232">SSL over HTTP (HTTPS) を使用して、サービスはクライアントに対して認証を行います。</span><span class="sxs-lookup"><span data-stu-id="2db01-232">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="2db01-233">この認証の一部として、 *ネゴシエーション* と呼ばれるプロセスで、サービスの証明書がクライアントに送信されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-233">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="2db01-234">SSL によってセキュリティで保護されたトランスポートによって、すべてのメッセージの機密性が確保されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-234">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="2db01-235">クライアントの認証が必要なサービスを作成している場合、クライアント資格情報の種類の選択肢は、選択したトランスポートとモードによって異なります。</span><span class="sxs-lookup"><span data-stu-id="2db01-235">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="2db01-236">たとえば、HTTP トランスポートを使用して、トランスポート モードを選択する場合、基本、ダイジェストなどのいくつかの選択肢があります</span><span class="sxs-lookup"><span data-stu-id="2db01-236">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="2db01-237">(これらの資格情報の種類の詳細については、「 [HTTP 認証](./feature-details/understanding-http-authentication.md)について」を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="2db01-237">(For more information about these credential types, see [Understanding HTTP Authentication](./feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="2db01-238">Windows ドメインで、そのネットワークの他のユーザーだけが利用できるサービスを作成している場合、最も使いやすいのは、Windows クライアント資格情報の種類です。</span><span class="sxs-lookup"><span data-stu-id="2db01-238">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="2db01-239">ただし、場合によっては、サービスにも証明書を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-239">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="2db01-240">詳細については、「 [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-240">This is shown in [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="2db01-241">資格情報の値</span><span class="sxs-lookup"><span data-stu-id="2db01-241">Credential Values</span></span>  

 <span data-ttu-id="2db01-242">*資格情報の値* とは、サービスが使用する実際の資格情報です。</span><span class="sxs-lookup"><span data-stu-id="2db01-242">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="2db01-243">資格情報の種類を指定したら、サービスを実際の資格情報で構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2db01-243">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="2db01-244">Windows を選択し、サービスを Windows ドメインで実行する場合は、実際の資格情報の値を指定しません。</span><span class="sxs-lookup"><span data-stu-id="2db01-244">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="2db01-245">ID</span><span class="sxs-lookup"><span data-stu-id="2db01-245">Identity</span></span>  

 <span data-ttu-id="2db01-246">WCF では、 *id* という用語はサーバーとクライアントに対して異なる意味を持ちます。</span><span class="sxs-lookup"><span data-stu-id="2db01-246">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="2db01-247">つまり、サービスを実行しているとき、ID は認証後にセキュリティ コンテキストに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="2db01-247">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="2db01-248">実際の ID を表示するには、 <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> クラスの <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> プロパティと <xref:System.ServiceModel.ServiceSecurityContext> プロパティを確認します。</span><span class="sxs-lookup"><span data-stu-id="2db01-248">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="2db01-249">詳細については、「 [方法: セキュリティコンテキストを調べる](how-to-examine-the-security-context.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-249">For more information, see [How to: Examine the Security Context](how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="2db01-250">反対に、クライアントでは、ID はサービスを検証するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="2db01-250">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="2db01-251">デザイン時に、クライアント開発者は要素を [\<identity>](../configure-apps/file-schema/wcf/identity.md) サービスから取得した値に設定できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-251">At design time, a client developer can set the [\<identity>](../configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="2db01-252">実行時に、クライアントは、要素の値をサービスの実際の ID と照合してチェックします。</span><span class="sxs-lookup"><span data-stu-id="2db01-252">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="2db01-253">チェックが失敗した場合、クライアントは通信を終了します。</span><span class="sxs-lookup"><span data-stu-id="2db01-253">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="2db01-254">特定のユーザー ID でサービスを実行している場合の値はユーザー プリンシパル名 (UPN) で、コンピューター アカウントでサービスを実行している場合の値はサービス プリンシパル名 (SPN) です。</span><span class="sxs-lookup"><span data-stu-id="2db01-254">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="2db01-255">詳細については、「 [サービス id と認証](./feature-details/service-identity-and-authentication.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-255">For more information, see [Service Identity and Authentication](./feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="2db01-256">資格情報には、証明書、つまり証明書を識別する証明書内のフィールドも使用できます。</span><span class="sxs-lookup"><span data-stu-id="2db01-256">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="2db01-257">保護レベル</span><span class="sxs-lookup"><span data-stu-id="2db01-257">Protection Levels</span></span>  

 <span data-ttu-id="2db01-258">`ProtectionLevel` プロパティは、 <xref:System.ServiceModel.ServiceContractAttribute> クラス、 <xref:System.ServiceModel.OperationContractAttribute> クラスなどのいくつかの属性クラスで使用します。</span><span class="sxs-lookup"><span data-stu-id="2db01-258">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="2db01-259">保護レベルは、サービスをサポートするメッセージ (またはメッセージ部分) が署名されるのか、署名および暗号化されるのか、または署名と暗号化なしで送信されるのかを指定する値です。</span><span class="sxs-lookup"><span data-stu-id="2db01-259">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="2db01-260">プロパティの詳細については、「 [保護レベル](understanding-protection-level.md)について」およびプログラミング例については、「 [方法: ProtectionLevel プロパティを設定する](how-to-set-the-protectionlevel-property.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-260">For more information about the property, see [Understanding Protection Level](understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="2db01-261">を使用したサービスコントラクトの設計の詳細については `ProtectionLevel` 、「 [サービスコントラクトの設計](designing-service-contracts.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2db01-261">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2db01-262">関連項目</span><span class="sxs-lookup"><span data-stu-id="2db01-262">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="2db01-263">サービス ID と認証</span><span class="sxs-lookup"><span data-stu-id="2db01-263">Service Identity and Authentication</span></span>](./feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="2db01-264">保護レベルの理解</span><span class="sxs-lookup"><span data-stu-id="2db01-264">Understanding Protection Level</span></span>](understanding-protection-level.md)
- [<span data-ttu-id="2db01-265">委任と偽装</span><span class="sxs-lookup"><span data-stu-id="2db01-265">Delegation and Impersonation</span></span>](./feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="2db01-266">サービス コントラクトの設計</span><span class="sxs-lookup"><span data-stu-id="2db01-266">Designing Service Contracts</span></span>](designing-service-contracts.md)
- [<span data-ttu-id="2db01-267">Security</span><span class="sxs-lookup"><span data-stu-id="2db01-267">Security</span></span>](./feature-details/security.md)
- [<span data-ttu-id="2db01-268">セキュリティの概要</span><span class="sxs-lookup"><span data-stu-id="2db01-268">Security Overview</span></span>](./feature-details/security-overview.md)
- [<span data-ttu-id="2db01-269">方法: ProtectionLevel プロパティを設定する</span><span class="sxs-lookup"><span data-stu-id="2db01-269">How to: Set the ProtectionLevel Property</span></span>](how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="2db01-270">方法: Windows 資格情報でサービスをセキュリティで保護する</span><span class="sxs-lookup"><span data-stu-id="2db01-270">How to: Secure a Service with Windows Credentials</span></span>](how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="2db01-271">方法: セキュリティ モードを設定する</span><span class="sxs-lookup"><span data-stu-id="2db01-271">How to: Set the Security Mode</span></span>](how-to-set-the-security-mode.md)
- [<span data-ttu-id="2db01-272">方法: クライアントの資格情報の種類を指定する</span><span class="sxs-lookup"><span data-stu-id="2db01-272">How to: Specify the Client Credential Type</span></span>](how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="2db01-273">方法: PrincipalPermissionAttribute クラスでアクセスを制限する</span><span class="sxs-lookup"><span data-stu-id="2db01-273">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="2db01-274">方法: サービスでクライアントに偽装する</span><span class="sxs-lookup"><span data-stu-id="2db01-274">How to: Impersonate a Client on a Service</span></span>](how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="2db01-275">方法: セキュリティ コンテキストを調べる</span><span class="sxs-lookup"><span data-stu-id="2db01-275">How to: Examine the Security Context</span></span>](how-to-examine-the-security-context.md)
