---
title: フィールド - C# プログラミング ガイド
description: C# のフィールドは、クラスまたは構造体で直接宣言される型の変数です。 フィールドは、それを含んでいる型のメンバーです。
ms.date: 07/20/2015
helpviewer_keywords:
- fields [C#]
ms.assetid: 3cbb2f61-75f8-4cce-b4ef-f5d1b3de0db7
ms.openlocfilehash: 58e60e1dc0b574ae922e6a27a22978b91aca4ec4
ms.sourcegitcommit: 8299abfbd5c49b596d61f1e4d09bc6b8ba055b36
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/27/2021
ms.locfileid: "98899049"
---
# <a name="fields-c-programming-guide"></a><span data-ttu-id="479f2-104">フィールド (C# プログラミング ガイド)</span><span class="sxs-lookup"><span data-stu-id="479f2-104">Fields (C# Programming Guide)</span></span>

<span data-ttu-id="479f2-105">*フィールド* とは、[クラス](../../language-reference/keywords/class.md)または [構造体](../../language-reference/builtin-types/struct.md)で直接宣言される任意の型の変数です。</span><span class="sxs-lookup"><span data-stu-id="479f2-105">A *field* is a variable of any type that is declared directly in a [class](../../language-reference/keywords/class.md) or [struct](../../language-reference/builtin-types/struct.md).</span></span> <span data-ttu-id="479f2-106">フィールドは、それを含んでいる型の *メンバー* です。</span><span class="sxs-lookup"><span data-stu-id="479f2-106">Fields are *members* of their containing type.</span></span>

<span data-ttu-id="479f2-107">クラスまたは構造体には、インスタンス フィールドと静的フィールドのいずれか、またはその両方が含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="479f2-107">A class or struct may have instance fields, static fields, or both.</span></span> <span data-ttu-id="479f2-108">インスタンス フィールドは、型のインスタンスに固有です。</span><span class="sxs-lookup"><span data-stu-id="479f2-108">Instance fields are specific to an instance of a type.</span></span> <span data-ttu-id="479f2-109">たとえば、クラス T と、そのクラスのインスタンス フィールド F があるとします。型 T のオブジェクトを 2 つ作成した場合、他方のオブジェクトの値に影響を与えることなく、各オブジェクトの F の値を変更できます。</span><span class="sxs-lookup"><span data-stu-id="479f2-109">If you have a class T, with an instance field F, you can create two objects of type T, and modify the value of F in each object without affecting the value in the other object.</span></span> <span data-ttu-id="479f2-110">これとは対照的に、クラス自体に属する静的フィールドは、そのクラスのすべてのインスタンスで共有されます。</span><span class="sxs-lookup"><span data-stu-id="479f2-110">By contrast, a static field belongs to the class itself, and is shared among all instances of that class.</span></span> <span data-ttu-id="479f2-111">静的フィールドにアクセスするには、クラス名を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="479f2-111">You can access the static field only by using the class name.</span></span> <span data-ttu-id="479f2-112">インスタンス名を使用して静的フィールドにアクセスすると、[CS0176](../../misc/cs0176.md) コンパイル時エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="479f2-112">If you access the static field by an instance name, you get [CS0176](../../misc/cs0176.md) compile-time error.</span></span>

<span data-ttu-id="479f2-113">通常、フィールドは、プライベートまたは保護されたアクセシビリティを持つ変数に対してのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="479f2-113">Generally, you should use fields only for variables that have private or protected accessibility.</span></span> <span data-ttu-id="479f2-114">クラスからクライアント コードに公開するデータは、[メソッド](./methods.md)、[プロパティ](./properties.md)、および[インデクサー](../indexers/index.md)を使用して提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="479f2-114">Data that your class exposes to client code should be provided through [methods](./methods.md), [properties](./properties.md), and [indexers](../indexers/index.md).</span></span> <span data-ttu-id="479f2-115">これらの構成要素を使用して、内部フィールドに間接的にアクセスすることで、無効な値が入力されることを防止できます。</span><span class="sxs-lookup"><span data-stu-id="479f2-115">By using these constructs for indirect access to internal fields, you can guard against invalid input values.</span></span> <span data-ttu-id="479f2-116">パブリック プロパティによって公開されるデータを格納するプライベート フィールドは、*バッキング ストア* または *バッキング フィールド* と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="479f2-116">A private field that stores the data exposed by a public property is called a *backing store* or *backing field*.</span></span>

<span data-ttu-id="479f2-117">一般に、フィールドは、複数のクラス メソッドからアクセスできるようにする必要があり、かつ 1 つのメソッドの有効期間より長く保持する必要があるデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="479f2-117">Fields typically store the data that must be accessible to more than one class method and must be stored for longer than the lifetime of any single method.</span></span> <span data-ttu-id="479f2-118">たとえば、暦の日付を表すクラスには、月、日、年を表す 3 つの整数フィールドが存在します。</span><span class="sxs-lookup"><span data-stu-id="479f2-118">For example, a class that represents a calendar date might have three integer fields: one for the month, one for the day, and one for the year.</span></span> <span data-ttu-id="479f2-119">1 つのメソッドのスコープ外で使用されることのない変数は、メソッド本体内で *ローカル変数* として宣言する必要があります。</span><span class="sxs-lookup"><span data-stu-id="479f2-119">Variables that are not used outside the scope of a single method should be declared as *local variables* within the method body itself.</span></span>

<span data-ttu-id="479f2-120">フィールドは、フィールドのアクセス レベル、フィールドの型、フィールドの名前の順に指定して、クラス ブロック内で宣言します。</span><span class="sxs-lookup"><span data-stu-id="479f2-120">Fields are declared in the class block by specifying the access level of the field, followed by the type of the field, followed by the name of the field.</span></span> <span data-ttu-id="479f2-121">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="479f2-121">For example:</span></span>

[!code-csharp[fields#1](snippets/fields/Program.cs#1)]

<span data-ttu-id="479f2-122">オブジェクト内のフィールドにアクセスするには、`objectname.fieldname` のように、オブジェクト名の後にピリオドを追加し、その後にフィールド名を続けます。</span><span class="sxs-lookup"><span data-stu-id="479f2-122">To access a field in an object, add a period after the object name, followed by the name of the field, as in `objectname.fieldname`.</span></span> <span data-ttu-id="479f2-123">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="479f2-123">For example:</span></span>

[!code-csharp[fields#2](snippets/fields/Program.cs#2)]

<span data-ttu-id="479f2-124">フィールドには、フィールドの宣言時に代入演算子を使用して初期値を指定できます。</span><span class="sxs-lookup"><span data-stu-id="479f2-124">A field can be given an initial value by using the assignment operator when the field is declared.</span></span> <span data-ttu-id="479f2-125">たとえば、`day` フィールドに `"Monday"` を自動的に代入するには、次の例のように `day` を宣言します。</span><span class="sxs-lookup"><span data-stu-id="479f2-125">To automatically assign the `day` field to `"Monday"`, for example, you would declare `day` as in the following example:</span></span>

[!code-csharp[fields#3](snippets/fields/Program.cs#3)]

<span data-ttu-id="479f2-126">フィールドは、オブジェクト インスタンスのコンストラクターが呼び出される直前に初期化されます。</span><span class="sxs-lookup"><span data-stu-id="479f2-126">Fields are initialized immediately before the constructor for the object instance is called.</span></span> <span data-ttu-id="479f2-127">コンストラクターがフィールドの値を代入すると、フィールドの宣言時に指定された値はすべて上書きされます。</span><span class="sxs-lookup"><span data-stu-id="479f2-127">If the constructor assigns the value of a field, it will overwrite any value given during field declaration.</span></span> <span data-ttu-id="479f2-128">詳細については、「[コンストラクターの使用](./using-constructors.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="479f2-128">For more information, see [Using Constructors](./using-constructors.md).</span></span>

> [!NOTE]
> <span data-ttu-id="479f2-129">フィールドの初期化子は、他のインスタンス フィールドを参照できません。</span><span class="sxs-lookup"><span data-stu-id="479f2-129">A field initializer cannot refer to other instance fields.</span></span>

<span data-ttu-id="479f2-130">フィールドは、[public](../../language-reference/keywords/public.md)、[private](../../language-reference/keywords/private.md)、[protected](../../language-reference/keywords/protected.md)、[internal](../../language-reference/keywords/internal.md)、[protected internal](../../language-reference/keywords/protected-internal.md)、または [private protected](../../language-reference/keywords/private-protected.md) としてマークできます。</span><span class="sxs-lookup"><span data-stu-id="479f2-130">Fields can be marked as [public](../../language-reference/keywords/public.md), [private](../../language-reference/keywords/private.md), [protected](../../language-reference/keywords/protected.md), [internal](../../language-reference/keywords/internal.md), [protected internal](../../language-reference/keywords/protected-internal.md), or [private protected](../../language-reference/keywords/private-protected.md).</span></span> <span data-ttu-id="479f2-131">これらのアクセス修飾子により、クラスのユーザーがフィールドにアクセスする方法が定義されます。</span><span class="sxs-lookup"><span data-stu-id="479f2-131">These access modifiers define how users of the class can access the fields.</span></span> <span data-ttu-id="479f2-132">詳細については、「[アクセス修飾子](./access-modifiers.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="479f2-132">For more information, see [Access Modifiers](./access-modifiers.md).</span></span>

<span data-ttu-id="479f2-133">必要に応じて、フィールドを[静的](../../language-reference/keywords/static.md)に宣言することもできます。</span><span class="sxs-lookup"><span data-stu-id="479f2-133">A field can optionally be declared [static](../../language-reference/keywords/static.md).</span></span> <span data-ttu-id="479f2-134">その場合、クラスのインスタンスが存在しなくても、呼び出し元がいつでもフィールドを使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="479f2-134">This makes the field available to callers at any time, even if no instance of the class exists.</span></span> <span data-ttu-id="479f2-135">詳細については、「[静的クラスと静的クラス メンバー](./static-classes-and-static-class-members.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="479f2-135">For more information, see [Static Classes and Static Class Members](./static-classes-and-static-class-members.md).</span></span>

<span data-ttu-id="479f2-136">フィールドを [readonly](../../language-reference/keywords/readonly.md) として宣言することもできます。</span><span class="sxs-lookup"><span data-stu-id="479f2-136">A field can be declared [readonly](../../language-reference/keywords/readonly.md).</span></span> <span data-ttu-id="479f2-137">読み取り専用フィールドには、初期化時またはコンストラクターによる以外は、値を代入できません。</span><span class="sxs-lookup"><span data-stu-id="479f2-137">A read-only field can only be assigned a value during initialization or in a constructor.</span></span> <span data-ttu-id="479f2-138">`static readonly` フィールドは基本的に定数と同じですが、C# コンパイラが静的な読み取り専用フィールドの値にアクセスできるのは実行時のみで、コンパイル時はアクセスできない点が異なります。</span><span class="sxs-lookup"><span data-stu-id="479f2-138">A `static readonly` field is very similar to a constant, except that the C# compiler does not have access to the value of a static read-only field at compile time, only at run time.</span></span> <span data-ttu-id="479f2-139">詳細については、「[定数](./constants.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="479f2-139">For more information, see [Constants](./constants.md).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="479f2-140">C# 言語仕様</span><span class="sxs-lookup"><span data-stu-id="479f2-140">C# language specification</span></span>

[!INCLUDE[CSharplangspec](~/includes/csharplangspec-md.md)]

## <a name="see-also"></a><span data-ttu-id="479f2-141">関連項目</span><span class="sxs-lookup"><span data-stu-id="479f2-141">See also</span></span>

- [<span data-ttu-id="479f2-142">C# プログラミング ガイド</span><span class="sxs-lookup"><span data-stu-id="479f2-142">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="479f2-143">クラスと構造体</span><span class="sxs-lookup"><span data-stu-id="479f2-143">Classes and Structs</span></span>](./index.md)
- [<span data-ttu-id="479f2-144">コンストラクターの使用</span><span class="sxs-lookup"><span data-stu-id="479f2-144">Using Constructors</span></span>](./using-constructors.md)
- [<span data-ttu-id="479f2-145">継承</span><span class="sxs-lookup"><span data-stu-id="479f2-145">Inheritance</span></span>](./inheritance.md)
- [<span data-ttu-id="479f2-146">アクセス修飾子</span><span class="sxs-lookup"><span data-stu-id="479f2-146">Access Modifiers</span></span>](./access-modifiers.md)
- [<span data-ttu-id="479f2-147">抽象クラスとシール クラス、およびクラス メンバー</span><span class="sxs-lookup"><span data-stu-id="479f2-147">Abstract and Sealed Classes and Class Members</span></span>](./abstract-and-sealed-classes-and-class-members.md)
